(this["webpackJsonpnews-aggregation"]=this["webpackJsonpnews-aggregation"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(14),o=a.n(s),l=(a(79),a(2)),c=a.n(l),i=a(8),u=a(16),m=a(3),d=a(4),p=a(6),h=a(5),f=(a(58),a(7)),b=a(15),v=a(30),g=a(12),k=a(35),y=a(49),x=a.n(y),w=a(68),E=a.n(w),S=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(f.b,{to:"/search?q=".concat(this.props.tagname)},n.a.createElement("div",{className:" cursor-pointer border px-2 py-1 font-mono hover:shadow-md border-gray-400 shadow-xs font-hairline text-xs m-1 rounded-lg bg-gray-100 "},n.a.createElement("div",null,this.props.tagname)))}}]),a}(r.Component),j=(a(84),a(48)),O=(a(85),a(73)),N=a(37),H=(a(86),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={copied:!1,bookmarked:!1,loading:!1},e.copyLink=function(){navigator.clipboard.writeText(e.props.articleURL),e.setState({copied:!0})},e.goToSourceHandler=function(t){e.props.history.push("/search?sources=".concat(t))},e.onSelect=function(t){var a=t.key;Object(j.a)(t,["key"]);switch(a){case"0":e.props.hideStoryHandler(e.props.storyId);break;case"1":e.goToSourceHandler(e.props.sourceId);break;case"2":e.props.onBookmarkHandler(e.props.article);break;case"3":e.props.removeSourceHandler();break;default:return}},e.menu=function(){return n.a.createElement(N.c,{selectedKeys:[],onSelect:e.onSelect},n.a.createElement(N.b,{key:"0"},n.a.createElement("span",{className:" cursor-pointer text-base"},"Hide this story")),n.a.createElement(N.b,{disabled:!e.props.sourceId,key:"1"},n.a.createElement("span",{className:" cursor-pointer text-base"},"Go to ".concat(e.props.sourceName))),n.a.createElement(N.a,null),n.a.createElement(N.b,{disabled:!e.props.isAuthenticated,key:"2"},n.a.createElement("span",{className:" cursor-pointer text-base"},"save this article")))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.bookmarked?"fas px-2 fa-bookmark text-blue-600":"far px-2 fa-bookmark";return n.a.createElement("span",{style:{opacity:this.props.isHovering?"100%":"0%",transition:"all 0.15s ease-in"},className:"mx-2"},this.props.isAuthenticated&&n.a.createElement("span",{style:{transition:"color 0.1s ease-in"},onClick:function(){return e.props.onBookmarkHandler(e.props.article)},className:"cursor-pointer mx-2 "},n.a.createElement("i",{className:t})),n.a.createElement("span",{onClick:this.copyLink,className:"cursor-pointer      "},n.a.createElement("i",{style:{transition:"color 0.1s ease-in"},className:"fas px-2 fa-link ".concat(this.state.copied&&"text-blue-600","  ")})),n.a.createElement(O.a,{trigger:["click"],overlay:this.menu,animation:"slide-up",onVisibleChange:this.onVisibleChange},n.a.createElement("button",{className:"cursor-pointer mx-2     "},n.a.createElement("i",{className:"fas px-2 fa-ellipsis-v"}))))}}]),a}(r.Component)),L=Object(b.f)(H),U=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isHovering:!1},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return x.a.extend(E.a),this.props.cardView?n.a.createElement("div",{className:"m-3 px-1 border rounded-lg   flex items-center "},n.a.createElement("div",{onMouseEnter:function(t){e.setState({isHovering:!0})},onMouseLeave:function(t){e.setState({isHovering:!1})},className:"flex flex-col  flex-wrap justify-center items-start   "},n.a.createElement("div",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.url},n.a.createElement("img",{className:" max-w-full border rounded-lg",src:this.props.urlToImage,alt:""}))),n.a.createElement("div",{className:" text-lg pt-2 text-gray-900 font-bold hover:underline "},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.url},this.props.title)),n.a.createElement("div",null,n.a.createElement("p",{className:" py-2 self-start text-sm text-gray-700 "},this.props.source.id?n.a.createElement(f.b,{to:"/search?sources=".concat(this.props.source.id)},this.props.source.name):this.props.source.name," ","\xb7"," ",x()(this.props.publishedAt).fromNow(!0)," ","ago"," ",n.a.createElement(L,{article:this.props.article,isAuthenticated:this.props.isAuthenticated,isHovering:this.state.isHovering,bookmarked:this.props.bookmarked,onBookmarkHandler:this.props.onBookmarkHandler,goToSourceHandler:this.goToSourceHandler,hideStoryHandler:this.props.hideStoryHandler,storyId:this.props.idkey,sourceId:this.props.source.id,sourceName:this.props.source.name,userCopied:this.userCopied,articleURL:this.props.url,removeSourceHandler:function(){}}))))):n.a.createElement("div",{className:"m-3 max-w-4xl w-full"},n.a.createElement("div",{onMouseEnter:function(t){e.setState({isHovering:!0})},onMouseLeave:function(t){e.setState({isHovering:!1})},className:"border rounded-lg border-gray-500 shadow-md hover:shadow-lg p-5"},n.a.createElement("div",{className:" custom-grid "},n.a.createElement("div",null,n.a.createElement("h1",{className:"  text-lg font-bold hover:underline "},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.url},this.props.title)),n.a.createElement("p",{className:" py-2 text-sm text-gray-700 "},this.props.source.id?n.a.createElement(f.b,{to:"/search?sources=".concat(this.props.source.id)},this.props.source.name):this.props.source.name," ","\xb7"," ",x()(this.props.publishedAt).fromNow(!0)," ","ago"," ",n.a.createElement(L,{article:this.props.article,isAuthenticated:this.props.isAuthenticated,isHovering:this.state.isHovering,bookmarked:this.props.bookmarked,onBookmarkHandler:this.props.onBookmarkHandler,goToSourceHandler:this.goToSourceHandler,hideStoryHandler:this.props.hideStoryHandler,storyId:this.props.idkey,sourceId:this.props.source.id,sourceName:this.props.source.name,userCopied:this.userCopied,articleURL:this.props.url,removeSourceHandler:function(){}})),""!==this.props.description?n.a.createElement("p",{className:"font-sans"},this.props.description):n.a.createElement("p",{className:"font-sans"},this.props.content),this.props.tags&&n.a.createElement("div",{className:"flex flex-wrap mt-3 "},this.props.tags.map((function(e,t){return n.a.createElement(S,{key:t,tagname:e})})))),n.a.createElement("img",{style:{width:"100px",height:"100px"},className:"object-cover border shadow-xl rounded-lg m-auto ",src:this.props.urlToImage,alt:""}))))}}]),a}(r.Component),C=(a(87),n.a.createContext("")),P=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).state={width:0,height:0},r.updateWindowDimensions=r.updateWindowDimensions.bind(Object(k.a)(r)),r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this;return this.props.articles.length<=0?n.a.createElement("p",null,"Nothing to show here. Please try with a different search term"):n.a.createElement(C.Consumer,null,(function(t){var a=t.layout,r=t.isAuthenticated,s="grid"===a;return e.state.width<=520&&(s=!0),!1===s?n.a.createElement("div",null,e.props.articles&&n.a.createElement("div",{className:"flex flex-wrap  justify-center"},e.props.articles.map((function(t,a){return n.a.createElement(U,Object.assign({isAuthenticated:r,hideStoryHandler:e.props.hideStoryHandler,bookmarkURLS:e.props.bookmarkURLS,bookmarked:e.props.bookmarkURLS.includes(t.url),onBookmarkHandler:e.props.onBookmarkHandler,refreshUser:e.props.refreshUser,key:a,idkey:a},t,{article:t}))})))):n.a.createElement("div",null,e.props.articles&&n.a.createElement("div",{className:""},n.a.createElement("div",{className:"   flex flex-wrap justify-center customGrid"},e.props.articles.map((function(t,a){return n.a.createElement("div",{className:"flex xl:max-w-sm lg:max-w-xs md:max-w-xs sm:max-w-lg ",key:a},n.a.createElement(U,Object.assign({isAuthenticated:r,hideStoryHandler:e.props.hideStoryHandler,cardView:s,bookmarkURLS:e.props.bookmarkURLS,bookmarked:e.props.bookmarkURLS.includes(t.url),onBookmarkHandler:e.props.onBookmarkHandler,refreshUser:e.props.refreshUser,key:a,idkey:a},t,{article:t})))})))))}))}}]),a}(r.Component),R=a(69),A=a.n(R).a.create({baseURL:"https://my-news-aggregator1.herokuapp.com/"}),D=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:" mt-16 justify-center w-full h-full flex "},n.a.createElement("i",{className:"  fas fa-spinner fa-5x fa-pulse"}))}}]),a}(r.Component),T=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"left"===this.props.direction&&n.a.createElement("i",{style:{color:"dodgerblue"},className:"  px-1 fas fa-angle-".concat(this.props.direction)}),n.a.createElement("button",{style:{color:"dodgerblue"},className:"",disabled:this.props.disabled},this.props.children),"right"===this.props.direction&&n.a.createElement("i",{style:{color:"dodgerblue"},className:" px-1 mr-5 fas fa-angle-".concat(this.props.direction)}))}}]),a}(r.Component),M=T,B=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={articles:null,totalResults:null,loading:!0,totalPages:null,currentPage:1,bookmarks:[],bookmarkURLS:[]},e.onBookmarkHandler=function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n,s,o,l,i,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,delete(r=Object(g.a)({},a)).tags,t.next=5,A.post("/bookmark",Object(g.a)({},r));case 5:n=t.sent,s=n.data.userdata.bookmarks,o=[],l=Object(u.a)(s);try{for(l.s();!(i=l.n()).done;)m=i.value,o.push(m.url)}catch(c){l.e(c)}finally{l.f()}e.setState((function(e){return{bookmarks:s,bookmarkURLS:o}})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.response);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e.fetchHeadlines=Object(i.a)(c.a.mark((function t(){var a,r,n,s,o,l,i,m,d,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.location.search,r=new URLSearchParams(a),(n=Number(r.get("page")))||(n=1),t.next=6,A.get("/headlines",{params:{page:n}});case 6:s=t.sent,o=s.data.bookmarks,l=[],i=Object(u.a)(o);try{for(i.s();!(m=i.n()).done;)d=m.value,l.push(d.url)}catch(c){i.e(c)}finally{i.f()}e.setState({articles:s.data.data.articles,totalResults:s.data.data.totalResults,totalPages:Math.ceil(s.data.data.totalResults/20),loading:!1,currentPage:n,bookmarks:o,bookmarkURLS:l}),p={data:s.data,storageTime:new Date},localStorage.setItem("headlines",JSON.stringify(p));case 14:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchHeadlines();case 2:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(i.a)(c.a.mark((function t(a,r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.location.search,a.location.search===n){t.next=5;break}return e.setState({loading:!0,paramString:n,articles:[]}),t.next=5,e.fetchHeadlines();case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.hideStoryHandler=function(t){e.setState((function(e){var a=Object(v.a)(e.articles);return a.splice(t,1),Object(g.a)(Object(g.a)({},e),{},{articles:a})}))},e}return Object(d.a)(a,[{key:"diffMinutes",value:function(e,t){var a=(e.getTime()-t.getTime())/1e3;return a/=60,Math.abs(Math.round(a))}},{key:"render",value:function(){var e=!1,t=!1;this.state.currentPage>=this.state.totalPages&&(t=!0),this.state.currentPage<=1&&(e=!0);var a,r,s=this.state.currentPage+1,o=this.state.currentPage-1;return a="/headlines?page=".concat(s),r="/headlines?page=".concat(o),n.a.createElement("div",null,n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif flex justify-center w-full"},"Headlines"),this.state.loading&&n.a.createElement(D,null),this.state.articles&&n.a.createElement("div",null,n.a.createElement(P,{onBookmarkHandler:this.onBookmarkHandler,hideStoryHandler:this.hideStoryHandler,refreshUser:this.props.refreshUser,articles:this.state.articles,bookmarkURLS:this.state.bookmarkURLS}),n.a.createElement("div",{className:"flex justify-center my-5 m-3  w-full"},e?n.a.createElement("div",{className:" flex justify-end px-3 w-full max-w-4xl"},n.a.createElement(f.b,{to:t?"":a},n.a.createElement(M,{direction:"right",disabled:t},"Next Page"))):n.a.createElement("div",{className:" flex justify-between px-3 w-full max-w-4xl"},!e&&n.a.createElement(f.b,{to:e?"":r},n.a.createElement(M,{direction:"left",disabled:e},"Previous Page")),!t&&n.a.createElement(f.b,{to:t?"":a},n.a.createElement(M,{direction:"right",disabled:t},"Next Page"))))))}}]),a}(r.Component),I=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={searchValue:""},e.onSearchBarHandler=function(t){var a=t.target.value;e.setState({searchValue:a})},e.onKeyDownHandler=function(t){13===t.keyCode&&e.props.history.push("/search?q=".concat(e.state.searchValue))},e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{style:{width:"97%"},className:"shadow-sm"},n.a.createElement("div",{className:"relative flex  flex-wrap items-stretch mb-3"},n.a.createElement("span",{className:"z-10 h-full leading-snug font-normal absolute text-center text-gray-600  bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},n.a.createElement("i",{className:"fas fa-search"})),n.a.createElement("input",{onKeyDown:this.onKeyDownHandler,value:this.searchValue,onChange:this.onSearchBarHandler,style:{backgroundColor:"whitesmoke"},type:"text",placeholder:"Search",className:"px-3 py-3 font-mono font-medium text-base border placeholder-gray-600 text-black relative bg-gray-200 rounded  shadow outline-none focus:outline-none focus:shadow-outline w-full  pl-10"})))}}]),a}(r.Component),W=(a(106),a(107),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{onClick:this.props.onclick,className:"BackDrop"})}}]),a}(r.Component)),V=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isOpen:!1,isPreferencesOpen:!1},e.onPreferencesClickHandler=function(){e.setState({isPreferencesOpen:!0})},e.closePreferencesHandler=function(){e.setState({isPreferencesOpen:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"sidenav",style:{width:this.props.isOpen?"270px":"0px"}},n.a.createElement(f.c,{to:"/headlines"},n.a.createElement("i",{className:" pr-4 fas fa-home"}),"Home"),this.props.isAuthenticated&&n.a.createElement(f.c,{to:"/user/foryou"}," ",n.a.createElement("i",{className:" pr-4 fas fa-user"}),"For you"),n.a.createElement(f.c,{to:"/topics?category=business"}," ",n.a.createElement("i",{className:" pr-4 fas fa-money-check-alt"})," ","Business"),n.a.createElement(f.c,{to:"/topics?category=health"}," ",n.a.createElement("i",{className:" pr-4 fas fa-heartbeat"})," Health"),n.a.createElement(f.c,{to:"/topics?category=entertainment"}," ",n.a.createElement("i",{className:" pr-4 fas fa-film"}),"Entertainment"),n.a.createElement(f.c,{to:"/topics?category=science"}," ",n.a.createElement("i",{className:" pr-4 fas fa-atom"}),"Science"),n.a.createElement(f.c,{to:"/topics?category=sports"}," ",n.a.createElement("i",{className:" pr-4 fas fa-baseball-ball"}),"Sports"),n.a.createElement(f.c,{to:"/topics?category=technology"}," ",n.a.createElement("i",{className:" pr-4  fas fa-microchip"}),"Technology"),this.props.isAuthenticated&&n.a.createElement(f.c,{to:"/user/bookmarks"}," ",n.a.createElement("i",{className:" pr-4 fas fa-bookmark"}),"Saved Articles"),this.props.isAuthenticated&&n.a.createElement(f.c,{to:"/user/searches"}," ",n.a.createElement("i",{className:" pr-4 fas fa-search"}),"Saved Searches"),this.props.isAuthenticated&&n.a.createElement("button",{className:"sidebar-button",onClick:this.props.onPreferencesOpenHandler}," ",n.a.createElement("i",{className:" pr-4 fas fa-cog"}),"Preferences"),!this.props.isAuthenticated&&n.a.createElement("button",{className:"sidebar-button",onClick:this.props.onLoginClickHandler}," ",n.a.createElement("i",{className:" pr-4 fas fa-sign-in-alt"}),"Login"),this.props.isAuthenticated&&n.a.createElement("button",{className:"sidebar-button",onClick:this.props.onLogoutHandler}," ",n.a.createElement("i",{className:" pr-4 fas fa-sign-out-alt"}),"Logout")),this.props.isOpen&&n.a.createElement(W,{onclick:this.props.closeSidebar}))}}]),a}(n.a.Component),z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).openSidebar=function(){r.setState({isOpen:!0})},r.closeSidebar=function(){r.setState({isOpen:!1})},r.Hamburger=n.a.createElement("div",{className:"cursor-pointer mr-2 ",onClick:r.openSidebar,style:{zIndex:100,paddingLeft:"20px"}},n.a.createElement("div",{style:{width:"30px",height:"5px",backgroundColor:"black",margin:"4px 0"}}),n.a.createElement("div",{style:{width:"30px",height:"5px",backgroundColor:"black",margin:"4px 0"}}),n.a.createElement("div",{style:{width:"30px",height:"5px",backgroundColor:"black",margin:"4px 0"}})),r.state={navbarOpen:!1,isOpen:!1,width:0,height:0},r.updateWindowDimensions=r.updateWindowDimensions.bind(Object(k.a)(r)),r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){return n.a.createElement("div",{className:" overflow-x-hidden h-16"},n.a.createElement(V,{showPreferences:this.props.showPreferences,onPreferencesOpenHandler:this.props.onPreferencesOpenHandler,onLoginClickHandler:this.props.onLoginClickHandler,isOpen:this.state.isOpen,openSidebar:this.openSidebar,closeSidebar:this.closeSidebar,onLogoutHandler:this.props.logout,isAuthenticated:this.props.authenticated}),n.a.createElement("div",{className:" shadow-md top-0 fixed bg-white z-50 w-full border-b-2 "},n.a.createElement("div",{className:" flex  h-16  items-center  justify-between container mx-auto"},n.a.createElement("div",{className:"flex items-center "},this.Hamburger,this.state.width>=660&&n.a.createElement(f.b,{to:"/headlines",className:" ml-10 text-sm text-black font-bold leading-relaxed  mr-4  whitespace-no-wrap uppercase"},"News Aggregator")),n.a.createElement("div",{className:"w-full pt-3 max-w-2xl "},n.a.createElement(I,{history:this.props.history})),this.props.authenticated?n.a.createElement("div",null,this.state.width>=520&&n.a.createElement("button",{onClick:this.openSidebar,className:"border mx-2 font-medium font-sans  bg-blue-500 text-white px-5  py-3 rounded-lg  "},this.props.email.slice(0,2).toUpperCase())):n.a.createElement("div",null,this.state.width>=520&&n.a.createElement("button",{onClick:this.props.onLoginClickHandler,className:"border ml-2 font-medium font-sans  bg-blue-500 text-white px-5  py-3 rounded-md  "},n.a.createElement("i",{className:"fas fa-sign-in-alt mr-2  "}),this.state.width>1280&&"Login")))))}}]),a}(r.Component),F=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={articles:[],totalResults:null,loading:!0,search:null,source:null,currentPage:1,totalPages:null,buttonText:"",empty:!1,bookmarkURLS:[],bookmarks:[]},e.onBookmarkHandler=function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n,s,o,l,i,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,delete(r=Object(g.a)({},a)).tags,t.next=5,A.post("/bookmark",Object(g.a)({},r));case 5:n=t.sent,s=n.data.userdata.bookmarks,o=[],l=Object(u.a)(s);try{for(l.s();!(i=l.n()).done;)m=i.value,o.push(m.url)}catch(c){l.e(c)}finally{l.f()}e.setState((function(e){return{bookmarks:s,bookmarkURLS:o}})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.response);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e.getData=Object(i.a)(c.a.mark((function t(){var a,r,n,s,o,l,i,m,d,p,h,f,b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.location.search,r=new URLSearchParams(a),n=r.get("q"),s=r.get("sources"),(o=Number(r.get("page")))||(o=1),t.next=9,A.get("/search"+a);case 9:if(l=t.sent,i=l.data.data,m=Math.ceil(i.totalResults/20),!(i.totalResults<=0)){t.next=14;break}return t.abrupt("return",e.setState({empty:!0,loading:!1}));case 14:d=l.data.bookmarks,p=[],h=Object(u.a)(d);try{for(h.s();!(f=h.n()).done;)b=f.value,p.push(b.url)}catch(c){h.e(c)}finally{h.f()}e.setState({articles:i.articles,totalResults:i.totalResults,loading:!1,paramString:a,search:n,source:s,sourceData:i.sourceData,currentPage:o,totalPages:m,buttonText:l.data.isSaved?"Saved":"Save",empty:!1,bookmarks:d,bookmarkURLS:p}),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0.response);case 24:case"end":return t.stop()}}),t,null,[[0,21]])}))),e.componentDidMount=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(i.a)(c.a.mark((function t(a,r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.location.search,a.location.search===n){t.next=5;break}return e.setState({loading:!0,paramString:n,articles:[]}),t.next=5,e.getData();case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.hideStoryHandler=function(t){e.setState((function(e){var a=Object(v.a)(e.articles);return a.splice(t,1),Object(g.a)(Object(g.a)({},e),{},{articles:a})}))},e.onSaveSearchHandler=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({buttonText:"Loading"}),t.next=4,A.post("/search/save",{searchString:e.state.search});case 4:200===t.sent.status?e.setState({buttonText:"Save"}):e.setState({buttonText:"Saved"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(d.a)(a,[{key:"render",value:function(){var e=!1,t=!1;this.state.currentPage>=this.state.totalPages&&(t=!0),this.state.currentPage<=1&&(e=!0);var a,r,s=this.state.currentPage+1,o=this.state.currentPage-1;return this.state.source?(a="/search?sources=".concat(this.state.source,"&page=").concat(s),r="/search?sources=".concat(this.state.source,"&page=").concat(o)):(a="/search?q=".concat(this.state.search,"&page=").concat(s),r="/search?q=".concat(this.state.search,"&page=").concat(o)),n.a.createElement("div",null,this.state.loading&&n.a.createElement(D,null),this.state.empty&&n.a.createElement("p",null,"Nothing to show here. Please try a different search term"),this.state.articles.length>0&&n.a.createElement("div",null,this.state.sourceData?n.a.createElement("div",null,n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif flex justify-center w-full"},this.state.sourceData.name),n.a.createElement("p",{className:"text-center my-4 "},this.state.sourceData.description)):n.a.createElement("div",null,n.a.createElement("div",{className:"flex justify-center"},n.a.createElement("div",{className:" w-full max-w-lg "},n.a.createElement("div",{className:"flex items-center justify-".concat(this.props.isAuthenticated?"between":"center"," w-full")},n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif "},this.state.search&&this.state.search.toUpperCase()),this.props.isAuthenticated&&n.a.createElement("button",{disabled:"Loading"===this.state.buttonText,style:{transition:"all 0.1s ease-in",outline:"none"},className:"border-2 mt-3 text-gray-600 hover:shadow-lg hover:text-blue-700 hover:border-blue-700 px-3 shadow-md py-1 ".concat("Saved"===this.state.buttonText?" text-blue-700 border-blue-500 ":"","   rounded-full"),onClick:this.onSaveSearchHandler},n.a.createElement("i",{className:"fa".concat("Save"===this.state.buttonText?"r":"s text-blue-700"," fa-star pr-2 hover:text-blue-700  ")}),this.state.buttonText))))),n.a.createElement(P,{hideStoryHandler:this.hideStoryHandler,bookmarkURLS:this.state.bookmarkURLS,refreshUser:this.props.refreshUser,articles:this.state.articles,onBookmarkHandler:this.onBookmarkHandler}),n.a.createElement("div",{className:"flex justify-center my-5 m-3  w-full"},e?n.a.createElement("div",{className:" flex justify-end px-3 w-full max-w-4xl"},n.a.createElement(f.b,{to:t?"":a},n.a.createElement(T,{direction:"right",disabled:t},"Next Page"))):n.a.createElement("div",{className:" flex justify-between px-3 w-full max-w-4xl"},!e&&n.a.createElement(f.b,{to:e?"":r},n.a.createElement(T,{direction:"left",disabled:e},"Previous Page")),!t&&n.a.createElement(f.b,{to:t?"":a},n.a.createElement(T,{direction:"right",disabled:t},"Next Page"))))))}}]),a}(r.Component),J=a(70),q=a.n(J),G=(a(108),function(e){var t=e.text,a=e.selected;return n.a.createElement("div",{className:"menu-item ".concat(a?"active":"")},t)}),K=function(e){var t=e.text,a=e.className;return n.a.createElement("div",{className:a},t)},_=K({text:"<",className:"arrow-prev"}),Y=K({text:">",className:"arrow-next"}),X=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var r,s,o;return Object(m.a)(this,a),(r=t.call(this,e)).state={selected:"Latest"},r.onSelect=function(e){r.setState({selected:e},(function(){r.props.changeTopic(e)}))},r.menuItems=(s=r.props.list,o="item1",s.map((function(e){var t=e.name;return n.a.createElement(G,{text:t,key:t,selected:o})}))),r}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.selected,t=this.menuItems;return n.a.createElement("div",{className:"  flex justify-center w-full"},n.a.createElement("div",{className:" rounded border-none App max-w-5xl min-w-0 "},n.a.createElement(q.a,{alignCenter:!1,data:t,arrowLeft:_,arrowRight:Y,selected:e,onSelect:this.onSelect})))}}]),a}(r.Component),Z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={articles:[],totalResults:null,loading:!0,search:null,currentPage:1,totalPages:null,currentTopic:"Latest",loadingSubTopic:!1,subtopicList:null,bookmarks:[],bookmarkURLS:[]},e.onBookmarkHandler=function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n,s,o,l,i,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,delete(r=Object(g.a)({},a)).tags,t.next=5,A.post("/bookmark",Object(g.a)({},r));case 5:n=t.sent,s=n.data.userdata.bookmarks,o=[],l=Object(u.a)(s);try{for(l.s();!(i=l.n()).done;)m=i.value,o.push(m.url)}catch(c){l.e(c)}finally{l.f()}e.setState((function(e){return{bookmarks:s,bookmarkURLS:o}})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.response);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e.businessSubTopics=[{name:"Latest"},{name:"Economy"},{name:"Markets"},{name:"Jobs"},{name:"Personal Finance"},{name:"Entrepreneurship"}],e.technologySubTopics=[{name:"Latest"},{name:"Mobile"},{name:"Gadgets"},{name:"Internet"},{name:"Artificial Intelligence"},{name:"Virtual Reality"}],e.entertainmentSubTopics=[{name:"Latest"},{name:"Movies"},{name:"Music"},{name:"TV"},{name:"Books"},{name:"Art"},{name:"Celebrities"}],e.sportsSubTopics=[{name:"Latest"},{name:"Cricket"},{name:"Hockey"},{name:"Tennis"},{name:"Football"},{name:"Badminton"},{name:"Basketball"}],e.scienceSubTopics=[{name:"Latest"},{name:"Environment"},{name:"Outer Space"},{name:"Physics"},{name:"Genetics"},{name:"Wildlife"}],e.healthSubTopics=[{name:"Latest"},{name:"Medicine"},{name:"Healthcare"},{name:"Mental health"},{name:"Nutrition"},{name:"Fitness"}],e.getData=Object(i.a)(c.a.mark((function t(){var a,r,n,s,o,l,i,m,d,p,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.location.search,r=new URLSearchParams(a),n=r.get("category"),(s=Number(r.get("page")))||(s=1),t.next=8,A.get("/headlines"+a);case 8:o=t.sent,l=Math.ceil(o.data.data.totalResults/20),i=o.data.bookmarks,m=[],d=Object(u.a)(i);try{for(d.s();!(p=d.n()).done;)h=p.value,m.push(h.url)}catch(c){d.e(c)}finally{d.f()}e.setState({articles:o.data.data.articles,totalResults:o.data.data.totalResults,loading:!1,paramString:a,search:n,currentPage:s,totalPages:l,bookmarks:i,bookmarkURLS:m}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0.response);case 20:case"end":return t.stop()}}),t,null,[[0,17]])}))),e.componentDidMount=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(i.a)(c.a.mark((function t(a,r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.location.search,a.location.search===n){t.next=5;break}return e.setState({loading:!0,paramString:n,articles:[]}),t.next=5,e.getData();case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.changeTopic=function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({currentTopic:a,loadingSubTopic:!0}),t.prev=1,t.next=4,A.get("/search",{params:{sortBy:"publishedAt",q:a}});case 4:r=t.sent,n=Math.ceil(r.data.data.totalResults/20),e.setState({articles:r.data.data.articles,totalResults:r.data.data.totalResults,loadingSubTopic:!1,totalPages:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.hideStoryHandler=function(t){e.setState((function(e){var a=Object(v.a)(e.articles);return a.splice(t,1),Object(g.a)(Object(g.a)({},e),{},{articles:a})}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=!1,t=!1;this.state.currentPage>=this.state.totalPages&&(t=!0),this.state.currentPage<=1&&(e=!0);var a,r,s=this.state.currentPage+1,o=this.state.currentPage-1;return a="/topics?category=".concat(this.state.search,"&page=").concat(s),r="/topics?category=".concat(this.state.search,"&page=").concat(o),n.a.createElement("div",null,this.state.loading&&n.a.createElement(D,null),this.state.articles.length>0&&n.a.createElement("div",null,this.state.sourceData?n.a.createElement("div",null,n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif flex justify-center w-full"},this.state.sourceData.name),n.a.createElement("p",{className:"text-center my-4 "},this.state.sourceData.description)):n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif flex justify-center w-full"},this.state.search&&this.state.search.toUpperCase()),n.a.createElement(X,{changeTopic:this.changeTopic,list:this["".concat(this.state.search,"SubTopics")]}),this.state.loadingSubTopic?n.a.createElement(D,null):n.a.createElement("div",null,n.a.createElement(P,{onBookmarkHandler:this.onBookmarkHandler,hideStoryHandler:this.hideStoryHandler,bookmarkURLS:this.state.bookmarkURLS,refreshUser:this.props.refreshUser,articles:this.state.articles}),n.a.createElement("div",{className:"flex justify-center my-5 m-3  w-full"},e?n.a.createElement("div",{className:" flex justify-end px-3 w-full max-w-4xl"},n.a.createElement(f.b,{to:t?"":a},n.a.createElement(T,{direction:"right",disabled:t},"Next Page"))):n.a.createElement("div",{className:" flex justify-between px-3 w-full max-w-4xl"},!e&&n.a.createElement(f.b,{to:e?"":r},n.a.createElement(T,{direction:"left",disabled:e},"Previous Page")),!t&&n.a.createElement(f.b,{to:t?"":a},n.a.createElement(T,{direction:"right",disabled:t},"Next Page")))))))}}]),a}(r.Component),$=a(43),Q=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isLoggingIn:!0,email:"",password:"",errors:null},e.onSwitchHandler=function(){e.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{isLoggingIn:!e.isLoggingIn})}))},e.onLoginHandler=Object(i.a)(c.a.mark((function t(){var a,r,n,s,o,l,i,u,m,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state,r=a.email,n=a.password,t.next=4,A.post("/login",{email:r,password:n});case 4:s=t.sent,o=s.data.token,l=s.data.user,i=l.bookmarks,u=l.layout,m=l.country,d=s.data.user.email,e.setState({errors:null},(function(){e.props.loginSuccessHandler(o,d,i,u,m)})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response),e.setState({errors:t.t0.response.data.errors[0].message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.onSignupHandler=Object(i.a)(c.a.mark((function t(){var a,r,n,s,o,l,i,u,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state,r=a.email,n=a.password,t.next=4,A.post("/signup",{email:r,password:n});case 4:s=t.sent,o=s.data.token,l=s.data.newUser,i=l.bookmarks,u=l.layout,m=s.data.newUser.email,e.setState({errors:null},(function(){e.props.loginSuccessHandler(o,m,i,u)})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response),e.setState({errors:t.t0.response.data.errors[0].message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.onChangeHandler=function(t){var a=t.target.value;e.setState(Object($.a)({},t.target.name,a))},e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:" w-full h-full "},n.a.createElement("div",{className:"flex w-full content-center items-center justify-center h-full"},n.a.createElement("div",{className:"w-full"},n.a.createElement("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-300 border-0"},n.a.createElement("div",{className:"rounded-t mb-0 px-6 py-6"},n.a.createElement("div",{className:"text-center mb-3"},n.a.createElement("h6",{className:"text-gray-600 text-sm font-bold"},"Sign in with Credentials")),n.a.createElement("hr",{className:"mt-6 border-b-1 border-gray-400"})),n.a.createElement("div",{className:"flex-auto px-4 py-10 pt-0"},n.a.createElement("form",null,n.a.createElement("div",{className:"relative w-full mb-3"},n.a.createElement("label",{className:"block uppercase text-gray-700 text-xs font-bold mb-2",htmlFor:"grid-password"},"Email"),n.a.createElement("input",{onChange:this.onChangeHandler,value:this.state.email,name:"email",type:"email",className:"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full",placeholder:"Email",style:{transition:"all .15s ease"}})),n.a.createElement("div",{className:"relative w-full mb-3"},n.a.createElement("label",{className:"block uppercase text-gray-700 text-xs font-bold mb-2",htmlFor:"grid-password"},"Password"),n.a.createElement("input",{name:"password",value:this.state.password,onChange:this.onChangeHandler,type:"password",className:"px-3  py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full",placeholder:"Password",style:{transition:"all .15s ease"}})),this.state.errors&&n.a.createElement("p",{className:" text-red-600"},this.state.errors),n.a.createElement("div",{className:"text-center mt-6"},this.state.isLoggingIn?n.a.createElement("button",{onClick:this.onLoginHandler,className:"bg-gray-900 text-white active:bg-gray-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full",type:"button",style:{transition:"all .15s ease"}},"Sign In"):n.a.createElement("button",{onClick:this.onSignupHandler,className:"bg-gray-900 text-white active:bg-gray-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full",type:"button",style:{transition:"all .15s ease"}},"Sign Up"))),this.state.isLoggingIn?n.a.createElement("p",{onClick:this.onSwitchHandler,className:"text-center pt-2 hover:underline cursor-pointer "},"Create a new Account"):n.a.createElement("p",{onClick:this.onSwitchHandler,className:"text-center pt-2 hover:underline cursor-pointer "},"Already have an Account?")))))))}}]),a}(r.Component),ee=(a(109),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"Modal w-full items-center flex justify-center"},n.a.createElement("div",{className:" w-full max-w-lg"},this.props.children))}}]),a}(r.Component)),te=a(71),ae=a.n(te),re=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={articles:[],bookmarks:[],bookmarkURLS:[],loading:!0},e.hideStoryHandler=function(t){e.setState((function(e){var a=Object(v.a)(e.articles);return a.splice(t,1),Object(g.a)(Object(g.a)({},e),{},{articles:a})}))},e.componentDidMount=Object(i.a)(c.a.mark((function t(){var a,r,n,s,o,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,A.get("/bookmarks");case 4:a=t.sent,r=a.data.bookmarks,n=[],s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;)l=o.value,n.push(l.url)}catch(c){s.e(c)}finally{s.f()}e.setState({articles:a.data.bookmarks,bookmarkURLS:n,loading:!1}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0.response);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),e.onBookmarkHandler=function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n,s,o,l,i,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,delete(r=Object(g.a)({},a)).tags,t.next=5,A.post("/bookmark",Object(g.a)({},r));case 5:n=t.sent,s=n.data.userdata.bookmarks,o=[],l=Object(u.a)(s);try{for(l.s();!(i=l.n()).done;)m=i.value,o.push(m.url)}catch(c){l.e(c)}finally{l.f()}e.setState((function(e){return{articles:s,bookmarkURLS:o}})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.response);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif flex justify-center w-full"},"Your Bookmarks"),this.state.loading?n.a.createElement(D,null):n.a.createElement("div",null,this.state.articles.length>=1?n.a.createElement(P,{onBookmarkHandler:this.onBookmarkHandler,hideStoryHandler:this.hideStoryHandler,refreshUser:this.props.refreshUser,bookmarkURLS:this.state.bookmarkURLS,articles:this.state.articles}):n.a.createElement("p",{style:{width:"100%"}},"your bookmarks are shown here")))}}]),a}(r.Component),ne=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isHovering:!1},e.onClickHandler=function(){e.props.history.push("/search?q="+e.props.el)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{onMouseEnter:function(){e.setState({isHovering:!0})},onMouseLeave:function(){e.setState({isHovering:!1})},style:{transition:"all 0.15s ease"},className:" cursor-pointer shadow-md flex flex-grow justify-between  border hover:shadow-lg border-gray-500 hover:border-gray-800  rounded-md p-2 m-2 my-3 w-full  items-center"},n.a.createElement("i",{onClick:this.onClickHandler,className:" hover:shadow-lg text-gray-700 p-2 pr-3 text-5xl fas fa-search"}),n.a.createElement("div",{onClick:this.onClickHandler,className:"pl-2"},this.props.el),n.a.createElement("i",{onClick:function(){return e.props.onDeleteHandler(e.props.el)},style:{opacity:this.state.isHovering?"100%":"0%",transition:"opacity 0.15s ease-in, color 0.1s ease-in"},className:"hover:text-red-600 z-10 text-gray-700 px-3 fas fa-trash"}))}}]),a}(r.Component),se=Object(b.f)(ne),oe=(a(112),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.savedSearches&&n.a.createElement("div",{className:" justify-center w-full"},n.a.createElement("div",{className:"search-grid gap-3 "},this.props.savedSearches.map((function(t){return n.a.createElement("div",{className:"w-auto"},n.a.createElement(se,{onDeleteHandler:e.props.onDeleteHandler,el:t}))})))))}}]),a}(r.Component)),le=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={savedSearches:null},e.componentDidMount=Object(i.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.get("/search/save");case 3:a=t.sent,e.setState({savedSearches:a.data.savedSearches}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.onDeleteHandler=function(){var t=Object(i.a)(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.post("/search/save",{searchString:a});case 3:r=t.sent,e.setState({savedSearches:r.data.userData.savedSearches}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif flex justify-center w-full"},"Saved Searches")),this.state.savedSearches?n.a.createElement(oe,{onDeleteHandler:this.onDeleteHandler,savedSearches:this.state.savedSearches}):n.a.createElement(D,null))}}]),a}(r.Component),ce=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={articles:null,loading:!0,bookmarks:[],bookmarkURLS:[]},e.componentDidMount=Object(i.a)(c.a.mark((function t(){var a,r,n,s,o,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.get("/foryou");case 3:a=t.sent,r=a.data.bookmarks,n=[],s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;)l=o.value,n.push(l.url)}catch(c){s.e(c)}finally{s.f()}e.setState({articles:a.data.data,loading:!1,bookmarks:r,bookmarkURLS:n}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.onBookmarkHandler=function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n,s,o,l,i,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,delete(r=Object(g.a)({},a)).tags,t.next=5,A.post("/bookmark",Object(g.a)({},r));case 5:n=t.sent,s=n.data.userdata.bookmarks,o=[],l=Object(u.a)(s);try{for(l.s();!(i=l.n()).done;)m=i.value,o.push(m.url)}catch(c){l.e(c)}finally{l.f()}e.setState((function(e){return{bookmarks:s,bookmarkURLS:o}})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.response);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"flex justify-center w-full"},n.a.createElement("h1",{className:" mt-3 text-3xl font-medium font-serif "},"For You")),n.a.createElement("div",{className:"flex justify-center text-gray-700 pb-3 "},"Recommended based on your interests"),this.state.loading&&n.a.createElement(D,null),this.state.articles&&n.a.createElement(P,{onBookmarkHandler:this.onBookmarkHandler,hideStoryHandler:this.props.hideStoryHandler,bookmarkURLS:this.state.bookmarkURLS,refreshUser:this.props.refreshUser,articles:this.state.articles}))}}]),a}(r.Component),ie=a(55),ue=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={countryValue:"ar",countryLabel:"Argentina",layoutValue:"list",layoutLabel:"List"},e.componentDidMount=function(){var t,a=e.countries[0],r=e.layouts[0],n=Object(u.a)(e.countries);try{for(n.s();!(t=n.n()).done;){var s=t.value;s.value===e.props.country&&(a=s)}}catch(i){n.e(i)}finally{n.f()}var o,l=Object(u.a)(e.layouts);try{for(l.s();!(o=l.n()).done;){var c=o.value;c.value===e.props.layout&&(r=c)}}catch(i){l.e(i)}finally{l.f()}e.setState({countryValue:a.value,countryLabel:a.label,layoutValue:r.value,layoutLabel:r.label})},e.countries=[{value:"ar",label:"Argentina"},{value:"au",label:"Australia"},{value:"at",label:"Austria"},{value:"be",label:"Belgium"},{value:"br",label:"Brazil"},{value:"bg",label:"Bulgaria"},{value:"ca",label:"Canada"},{value:"cn",label:"China"},{value:"co",label:"Colombia"},{value:"cu",label:"Cuba"},{value:"cz",label:"Czech Republic"},{value:"eg",label:"Egypt"},{value:"fr",label:"France"},{value:"de",label:"Germany"},{value:"gr",label:"Greece"},{value:"hk",label:"Hong Kong"},{value:"hu",label:"Hungary"},{value:"in",label:"India"},{value:"id",label:"Indonesia"},{value:"ie",label:"Ireland"},{value:"il",label:"Israel"},{value:"it",label:"Italy"},{value:"jp",label:"Japan"},{value:"lv",label:"Latvia"},{value:"lt",label:"Lithuania"},{value:"my",label:"Malaysia"},{value:"mx",label:"Mexico"},{value:"ma",label:"Morocco"},{value:"nl",label:"Netherlands"},{value:"nz",label:"New Zealand"},{value:"ng",label:"Nigeria"},{value:"no",label:"Norway"},{value:"ph",label:"Philippines"},{value:"pl",label:"Poland"},{value:"pt",label:"Portugal"},{value:"ro",label:"Romania"},{value:"ru",label:"Russia"},{value:"sa",label:"Saudi Arabia"},{value:"rs",label:"Serbia"},{value:"sg",label:"Singapore"},{value:"sk",label:"Slovakia"},{value:"si",label:"Slovenia"},{value:"za",label:"South Africa"},{value:"kr",label:"South Korea"},{value:"se",label:"Sweden"},{value:"ch",label:"Switzerland"},{value:"tw",label:"Taiwan"},{value:"th",label:"Thailand"},{value:"tr",label:"Turkey"},{value:"ae",label:"UAE"},{value:"ua",label:"Ukraine"},{value:"gb",label:"United Kingdom"},{value:"us",label:"United States"},{value:"ve",label:"Venuzuela"}],e.layouts=[{value:"list",label:"List"},{value:"grid",label:"Grid"}],e.onSaveHandler=Object(i.a)(c.a.mark((function t(){var a,r,n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.post("/user",{country:e.state.countryValue,layout:e.state.layoutValue});case 3:a=t.sent,r=a.data.userData,n=r.country,s=r.layout,e.props.setPreferences(n,s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"w-full  bg-white border border-black rounded-lg "},n.a.createElement("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t"},n.a.createElement("h3",{className:"text-3xl font-semibold"},"Preferences")),n.a.createElement("div",{className:"relative p-6 flex-auto"},n.a.createElement("div",{className:"flex flex-wrap "},n.a.createElement("p",{className:"my-4 flex max-w-md justify-between w-full text-gray-600 text-lg leading-relaxed"},"Change Country :"," ",n.a.createElement("span",{className:"w-40 "},n.a.createElement(ie.a,{onChange:function(t){e.setState({countryValue:t.value,countryLabel:t.label})},value:{label:this.state.countryLabel,value:this.state.countryValue},className:"basic-single",classNamePrefix:"select",isSearchable:!0,name:"country",options:this.countries}))),n.a.createElement("p",{className:"my-4 flex max-w-md justify-between w-full text-gray-600 text-lg leading-relaxed"},"Change Layout :"," ",n.a.createElement("span",{className:"w-40 "},n.a.createElement(ie.a,{onChange:function(t){e.setState({layoutValue:t.value,layoutLabel:t.label})},value:{label:this.state.layoutLabel,value:this.state.layoutValue},className:"basic-single",classNamePrefix:"select",isSearchable:!0,name:"layout",options:this.layouts}))))),n.a.createElement("div",{className:"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b"},n.a.createElement("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:this.props.onPreferencesCloseHandler,style:{transition:"all .15s ease"}},"Close"),n.a.createElement("button",{className:"bg-green-500 text-white active:bg-green-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:this.onSaveHandler,style:{transition:"all .15s ease"}},"Save Changes"))))}}]),a}(r.Component),me=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=Object(j.a)(e,["isAuthenticated"]);return t||a.history.push("/headlines"),n.a.createElement(b.a,Object.assign({},a,{path:t?a.path:"/headlines"}))}}]),a}(r.Component),de=Object(b.f)(me),pe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1,authenticated:null,email:null,token:null,bookmarks:[],bookmarkURLS:[],showPreferences:!1,country:null,layout:"list"},e.refreshUser=function(t){var a,r=[],n=Object(u.a)(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;r.push(s.url)}}catch(o){n.e(o)}finally{n.f()}localStorage.setItem("bookmarks",JSON.stringify(t)),e.setState({bookmarks:t,bookmarkURLS:r})},e.setTokenTimer=function(t){return function(){setTimeout((function(){e.logout()}),t)}},e.getCountry=function(){navigator.geolocation.getCurrentPosition(function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.coords,n=r.latitude,s=r.longitude,t.prev=1,t.next=4,A.post("/country",{lat:n,lon:s});case 4:o=t.sent,e.setState({country:o.data.country}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),(function(e){console.log(e)}))},e.componentDidMount=function(){var t=localStorage.email,a=localStorage.token,r=localStorage.bookmarks,n=localStorage.layout,s=localStorage.country;r&&(r=JSON.parse(r));var o=!1;if(a&&t){var l=ae()(a);if(1e3*l.exp<Date.now())o=!1,e.setState({authenticated:o});else{var c=new Date(1e3*l.exp),i=new Date,m=c.getTime()-i.getTime();e.setTokenTimer(m),o=!0,A.defaults.headers.common.Authorization=a;var d,p=[],h=Object(u.a)(r);try{for(h.s();!(d=h.n()).done;){var f=d.value;p.push(f.url)}}catch(b){h.e(b)}finally{h.f()}s&&"null"!==s||e.getCountry(),e.setState({authenticated:o,email:t,token:a,bookmarks:r,layout:n,country:s,bookmarkURLS:p,valuesSet:!0})}}},e.onModalDismissHandler=function(){e.setState({showModal:!1})},e.onLoginClickHandler=function(){e.setState({showModal:!0})},e.onPreferencesCloseHandler=function(){e.setState({showPreferences:!1})},e.onPreferencesOpenHandler=function(){e.setState({showPreferences:!0})},e.logout=function(){localStorage.clear(),e.setState({showModal:!1,authenticated:!1,email:null,token:null,bookmarks:[],bookmarkURLS:[],showPreferences:!1,country:null,layout:"list"})},e.loginSuccessHandler=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;s||e.getCountry(),localStorage.setItem("token",t),localStorage.setItem("email",a),localStorage.setItem("country",s),localStorage.setItem("layout",n),localStorage.setItem("bookmarks",JSON.stringify(r)),A.defaults.headers.common.Authorization=t,e.setState({showModal:!1,authenticated:!0,email:a,token:t,layout:n,country:s}),e.refreshUser(r)},e.setPreferences=function(t,a){e.setState({country:t,layout:a},(function(){localStorage.setItem("layout",a),localStorage.setItem("country",t),e.onPreferencesCloseHandler()}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(C.Provider,{value:{layout:this.state.layout,isAuthenticated:this.state.authenticated}},n.a.createElement("div",{style:{overflowX:"hidden"}},this.state.showModal&&!this.state.authenticated&&n.a.createElement("div",null,n.a.createElement(ee,null,n.a.createElement(Q,{loginSuccessHandler:this.loginSuccessHandler,onLoginHandler:this.onLoginHandler,onSignupHandler:this.onSignupHandler})),n.a.createElement(W,{onclick:this.onModalDismissHandler})),this.state.showPreferences&&n.a.createElement("div",null,n.a.createElement(ee,null,n.a.createElement(ue,{country:this.state.country,layout:this.state.layout,setPreferences:this.setPreferences,onPreferencesCloseHandler:this.onPreferencesCloseHandler})),n.a.createElement(W,{onclick:this.onPreferencesCloseHandler})),n.a.createElement(f.a,null,n.a.createElement(b.a,{component:function(t){return n.a.createElement(z,Object.assign({},t,{showPreferences:e.state.showPreferences,onPreferencesOpenHandler:e.onPreferencesOpenHandler,authenticated:e.state.authenticated,email:e.state.email,onLoginClickHandler:e.onLoginClickHandler,logout:e.logout}))}}),n.a.createElement(b.a,{path:"/login",component:Q}),n.a.createElement("div",{className:"container mx-auto px-2"},n.a.createElement(b.c,null,n.a.createElement(b.a,{exact:!0,path:"/",component:function(t){return n.a.createElement(B,Object.assign({},t,{bookmarkURLS:e.state.bookmarkURLS,refreshUser:e.refreshUser}))}}),n.a.createElement(b.a,{exact:!0,path:"/headlines",component:function(t){return n.a.createElement(B,Object.assign({},t,{bookmarkURLS:e.state.bookmarkURLS,refreshUser:e.refreshUser}))}}),n.a.createElement(de,{exact:!0,path:"/user/bookmarks",isAuthenticated:this.state.authenticated,component:function(t){return n.a.createElement(re,Object.assign({},t,{refreshUser:e.refreshUser,bookmarkURLS:e.state.bookmarkURLS,bookmarks:e.state.bookmarks}))}}),n.a.createElement(de,{isAuthenticated:this.state.authenticated,exact:!0,path:"/user/foryou",component:function(t){return n.a.createElement(ce,Object.assign({},t,{refreshUser:e.refreshUser,bookmarkURLS:e.state.bookmarkURLS,bookmarks:e.state.bookmarks}))}}),n.a.createElement(de,{isAuthenticated:this.state.authenticated,exact:!0,path:"/user/searches",component:function(t){return n.a.createElement(le,Object.assign({},t,{isAuthenticated:e.state.authenticated,refreshUser:e.refreshUser,bookmarkURLS:e.state.bookmarkURLS,bookmarks:e.state.bookmarks}))}}),n.a.createElement(b.a,{exact:!0,path:"/search",component:function(t){return n.a.createElement(F,Object.assign({},t,{isAuthenticated:e.state.authenticated,bookmarkURLS:e.state.bookmarkURLS,refreshUser:e.refreshUser}))}}),n.a.createElement(b.a,{exact:!0,path:"/topics",component:function(t){return n.a.createElement(Z,Object.assign({},t,{bookmarkURLS:e.state.bookmarkURLS,refreshUser:e.refreshUser}))}}),n.a.createElement(b.a,{path:"/",component:function(t){return n.a.createElement(B,Object.assign({},t,{bookmarkURLS:e.state.bookmarkURLS,refreshUser:e.refreshUser}))}}))))))}}]),a}(n.a.PureComponent),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(n.a.createElement(pe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/news-aggregator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/news-aggregator","/service-worker.js");he?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):fe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):fe(t,e)}))}}()},58:function(e,t,a){},74:function(e,t,a){e.exports=a(113)},79:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.edf92884.chunk.js.map