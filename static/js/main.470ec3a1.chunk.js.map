{"version":3,"sources":["Components/Tag.jsx","Components/ActionPanel.jsx","Components/Story.jsx","utils/MyContext.jsx","Components/Stories.jsx","utils/axiosInstance.js","Components/Loading.jsx","Components/PaginationButton.jsx","Pages/Home.jsx","Components/SearchBar.jsx","Components/BackDrop.jsx","Components/SideBar.jsx","Components/Navbar.jsx","Pages/SearchResults.jsx","Components/HorizontalTabs.jsx","Pages/CategoryPage.jsx","Components/Login.jsx","Components/Modal.jsx","Pages/SavedArticlesPage.jsx","Components/SavedSearch.jsx","Components/Searches.jsx","Pages/SavedSearchesPage.jsx","Pages/PersonalizedNewsPage.jsx","Components/Preferences.jsx","Components/AuthRoute.jsx","App.js","serviceWorker.js","index.js"],"names":["Tag","to","this","props","tagname","className","Component","ActionPanel","state","copied","bookmarked","loading","copyLink","navigator","clipboard","writeText","articleURL","setState","goToSourceHandler","source","history","push","onSelect","key","hideStoryHandler","storyId","sourceId","onBookmarkHandler","article","removeSourceHandler","menu","selectedKeys","disabled","sourceName","isAuthenticated","bookmarkclasses","style","opacity","isHovering","transition","onClick","trigger","overlay","animation","onVisibleChange","withRouter","Story","dayjs","extend","RelativeTime","cardView","onMouseEnter","e","onMouseLeave","target","rel","href","url","src","urlToImage","alt","title","id","name","publishedAt","fromNow","idkey","userCopied","description","content","tags","map","tag","idx","width","height","MyContext","React","createContext","Stories","updateWindowDimensions","bind","window","addEventListener","removeEventListener","innerWidth","innerHeight","articles","length","Consumer","layout","el","bookmarkURLS","includes","refreshUser","instance","axios","create","baseURL","Loading","PaginationButton","direction","color","children","Home","totalResults","totalPages","currentPage","bookmarks","a","cpyarticles","post","resp","data","userdata","urls","i","st","console","log","response","fetchHeadlines","paramString","location","search","params","URLSearchParams","page","Number","get","Math","ceil","headlines","storageTime","Date","localStorage","setItem","JSON","stringify","componentDidMount","componentDidUpdate","prevProps","prevState","x","splice","dt2","dt1","diff","getTime","abs","round","prevDisabled","nextDisabled","nextLink","prevLink","nextPage","prevPage","SearchBar","searchValue","onSearchBarHandler","event","value","onKeyDownHandler","keyCode","onKeyDown","onChange","backgroundColor","type","placeholder","BackDrop","onclick","SideBar","isOpen","isPreferencesOpen","onPreferencesClickHandler","closePreferencesHandler","onPreferencesOpenHandler","onLogoutHandler","closeSidebar","Navbar","openSidebar","Hamburger","zIndex","paddingLeft","margin","navbarOpen","showPreferences","logout","authenticated","email","slice","toUpperCase","onLoginClickHandler","SearchResults","buttonText","empty","Axios","getData","qwe","sourceData","isSaved","onSaveSearchHandler","searchString","status","outline","MenuItem","text","selected","Arrow","ArrowLeft","ArrowRight","HorizontalTabs","list","changeTopic","menuItems","alignCenter","arrowLeft","arrowRight","CategoryPage","currentTopic","loadingSubTopic","subtopicList","businessSubTopics","technologySubTopics","entertainmentSubTopics","sportsSubTopics","scienceSubTopics","healthSubTopics","topic","sortBy","q","Login","isLoggingIn","password","errors","onSwitchHandler","onLoginHandler","token","user","country","mail","loginSuccessHandler","message","onSignupHandler","newUser","onChangeHandler","htmlFor","Modal","SavedArticlesPage","SavedSearch","onClickHandler","onDeleteHandler","Searches","savedSearches","SavedSearchesPage","savedSearch","userData","PersonalizedNewsPage","Preferences","countryValue","countryLabel","layoutValue","layoutLabel","defaultCountry","countries","defaultLayout","layouts","label","onSaveHandler","setPreferences","classNamePrefix","isSearchable","options","onPreferencesCloseHandler","AuthRoute","path","App","showModal","setTokenTimer","time","setTimeout","getCountry","geolocation","getCurrentPosition","position","coords","latitude","longitude","lat","lon","err","parse","decodedToken","JwtDecode","exp","now","endTime","startTime","milliseconds","defaults","headers","common","valuesSet","onModalDismissHandler","clear","Provider","overflowX","component","exact","PureComponent","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","origin","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.470ec3a1.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class Tag extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Link to={`/search?q=${this.props.tagname}`}>\r\n\t\t\t\t<div className=' cursor-pointer border px-2 py-1 font-mono hover:shadow-md border-gray-400 shadow-xs font-hairline text-xs m-1 rounded-lg bg-gray-100 '>\r\n\t\t\t\t\t<div>{this.props.tagname}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Tag;\r\n","import React, { Component } from 'react';\r\nimport '../styles/ActionPanel.css';\r\n// import Dropdown from './Dropdown';\r\n\r\nimport Dropdown from 'rc-dropdown';\r\nimport Menu, { Item as MenuItem, Divider } from 'rc-menu';\r\nimport 'rc-dropdown/assets/index.css';\r\nimport { withRouter } from 'react-router-dom';\r\n// import 'rc-menu/assets/index.css';\r\n\r\nexport class ActionPanel extends Component {\r\n\tstate = { copied: false, bookmarked: false, loading: false };\r\n\r\n\t// componentDidMount = () => {\r\n\t// \tthis.setState({ bookmarked: this.props.bookmarked });\r\n\t// };\r\n\r\n\tcopyLink = () => {\r\n\t\tnavigator.clipboard.writeText(this.props.articleURL);\r\n\t\tthis.setState({ copied: true });\r\n\t};\r\n\r\n\tgoToSourceHandler = (source) => {\r\n\t\tthis.props.history.push(`/search?sources=${source}`);\r\n\t};\r\n\r\n\t// onBookmarkHandler = async () => {\r\n\t// \ttry {\r\n\t// \t\tthis.setState({ loading: true });\r\n\t// \t\tlet resp = await Axios.post('/bookmark', { ...this.props });\r\n\t// \t\tconsole.log(resp.data);\r\n\r\n\t// \t\tlet bookmarks = resp.data.userdata.bookmarks;\r\n\t// \t\tconsole.log('yoyoyo : ', bookmarks);\r\n\t// \t\tthis.setState((st) => {\r\n\t// \t\t\treturn {\r\n\t// \t\t\t\tloading: false,\r\n\t// \t\t\t\tbookmarked: !st.bookmarked,\r\n\t// \t\t\t};\r\n\t// \t\t});\r\n\t// \t\t// this.props.refreshUser(bookmarks);\r\n\t// \t} catch (err) {\r\n\t// \t\tconsole.log('error');\r\n\t// \t\tconsole.log(err.response);\r\n\t// \t}\r\n\t// };\r\n\r\n\tonSelect = ({ key, ...x }) => {\r\n\t\tswitch (key) {\r\n\t\t\tcase '0':\r\n\t\t\t\tthis.props.hideStoryHandler(this.props.storyId);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '1':\r\n\t\t\t\tthis.goToSourceHandler(this.props.sourceId);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '2':\r\n\t\t\t\t// delete this.props.article.tags;\r\n\t\t\t\tthis.props.onBookmarkHandler(this.props.article);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '3':\r\n\t\t\t\tthis.props.removeSourceHandler();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t// onVisibleChange = (visible) => {\r\n\t// \tconsole.log(visible);\r\n\t// };\r\n\r\n\tmenu = () => (\r\n\t\t<Menu selectedKeys={[]} onSelect={this.onSelect}>\r\n\t\t\t<MenuItem key='0'>\r\n\t\t\t\t<span className=' cursor-pointer text-base'>\r\n\t\t\t\t\tHide this story\r\n\t\t\t\t</span>\r\n\t\t\t</MenuItem>\r\n\t\t\t<MenuItem disabled={!this.props.sourceId} key='1'>\r\n\t\t\t\t<span className=' cursor-pointer text-base'>\r\n\t\t\t\t\t{`Go to ${this.props.sourceName}`}\r\n\t\t\t\t</span>\r\n\t\t\t</MenuItem>\r\n\t\t\t<Divider />\r\n\t\t\t<MenuItem disabled={!this.props.isAuthenticated} key='2'>\r\n\t\t\t\t<span className=' cursor-pointer text-base'>\r\n\t\t\t\t\tsave this article\r\n\t\t\t\t</span>\r\n\t\t\t</MenuItem>\r\n\t\t\t{/* <MenuItem disabled={!this.props.isAuthenticated} key='3'>\r\n\t\t\t\t<span className='cursor-pointer text-base'>{`Hide all stories from ${this.props.sourceName}`}</span>\r\n\t\t\t</MenuItem> */}\r\n\t\t</Menu>\r\n\t);\r\n\r\n\trender() {\r\n\t\tlet bookmarkclasses = this.props.bookmarked\r\n\t\t\t? 'fas px-2 fa-bookmark text-blue-600'\r\n\t\t\t: 'far px-2 fa-bookmark';\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\topacity: this.props.isHovering ? '100%' : '0%',\r\n\t\t\t\t\ttransition: 'all 0.15s ease-in',\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='mx-2'>\r\n\t\t\t\t{this.props.isAuthenticated && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\t// disabled={this.state.loading}\r\n\t\t\t\t\t\tstyle={{ transition: 'color 0.1s ease-in' }}\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tthis.props.onBookmarkHandler(this.props.article)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclassName='cursor-pointer mx-2 '>\r\n\t\t\t\t\t\t<i className={bookmarkclasses}></i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<span onClick={this.copyLink} className='cursor-pointer      '>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ transition: 'color 0.1s ease-in' }}\r\n\t\t\t\t\t\tclassName={`fas px-2 fa-link ${\r\n\t\t\t\t\t\t\tthis.state.copied && 'text-blue-600'\r\n\t\t\t\t\t\t}  `}></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttrigger={['click']}\r\n\t\t\t\t\toverlay={this.menu}\r\n\t\t\t\t\tanimation='slide-up'\r\n\t\t\t\t\tonVisibleChange={this.onVisibleChange}>\r\n\t\t\t\t\t<button className='cursor-pointer mx-2     '>\r\n\t\t\t\t\t\t<i className='fas px-2 fa-ellipsis-v'></i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t\t{/* <Dropdown color='white' /> */}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ActionPanel);\r\n","import React, { Component } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport RelativeTime from 'dayjs/plugin/relativeTime';\r\nimport Tag from './Tag';\r\nimport '../styles/story.css';\r\nimport { Link } from 'react-router-dom';\r\nimport ActionPanel from './ActionPanel';\r\n\r\nexport class Story extends Component {\r\n\tstate = { isHovering: false };\r\n\r\n\trender() {\r\n\t\tdayjs.extend(RelativeTime);\r\n\r\n\t\tif (this.props.cardView) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='m-3 px-1 border rounded-lg   flex items-center '>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonMouseEnter={(e) => {\r\n\t\t\t\t\t\t\tthis.setState({ isHovering: true });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonMouseLeave={(e) => {\r\n\t\t\t\t\t\t\tthis.setState({ isHovering: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName='flex flex-col  flex-wrap justify-center items-start   '>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\trel='noopener noreferrer'\r\n\t\t\t\t\t\t\t\thref={this.props.url}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t// style={{ maxHeight: '300px' }}\r\n\t\t\t\t\t\t\t\t\tclassName=' max-w-full border rounded-lg'\r\n\t\t\t\t\t\t\t\t\tsrc={this.props.urlToImage}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=' text-lg pt-2 text-gray-900 font-bold hover:underline '>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\trel='noopener noreferrer'\r\n\t\t\t\t\t\t\t\thref={this.props.url}>\r\n\t\t\t\t\t\t\t\t{this.props.title}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=' py-2 self-start text-sm text-gray-700 '>\r\n\t\t\t\t\t\t\t\t{this.props.source.id ? (\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={`/search?sources=${this.props.source.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.source.name}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tthis.props.source.name\r\n\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t&#183;{' '}\r\n\t\t\t\t\t\t\t\t{dayjs(this.props.publishedAt).fromNow(true)}{' '}\r\n\t\t\t\t\t\t\t\tago{' '}\r\n\t\t\t\t\t\t\t\t<ActionPanel\r\n\t\t\t\t\t\t\t\t\tarticle={this.props.article}\r\n\t\t\t\t\t\t\t\t\tisAuthenticated={this.props.isAuthenticated}\r\n\t\t\t\t\t\t\t\t\tisHovering={this.state.isHovering}\r\n\t\t\t\t\t\t\t\t\tbookmarked={this.props.bookmarked}\r\n\t\t\t\t\t\t\t\t\tonBookmarkHandler={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.onBookmarkHandler\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tgoToSourceHandler={this.goToSourceHandler}\r\n\t\t\t\t\t\t\t\t\thideStoryHandler={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.hideStoryHandler\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tstoryId={this.props.idkey}\r\n\t\t\t\t\t\t\t\t\tsourceId={this.props.source.id}\r\n\t\t\t\t\t\t\t\t\tsourceName={this.props.source.name}\r\n\t\t\t\t\t\t\t\t\tuserCopied={this.userCopied}\r\n\t\t\t\t\t\t\t\t\tarticleURL={this.props.url}\r\n\t\t\t\t\t\t\t\t\tremoveSourceHandler={() => {}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='m-3 max-w-4xl w-full'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonMouseEnter={(e) => {\r\n\t\t\t\t\t\tthis.setState({ isHovering: true });\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonMouseLeave={(e) => {\r\n\t\t\t\t\t\tthis.setState({ isHovering: false });\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='border rounded-lg border-gray-500 shadow-md hover:shadow-lg p-5'>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\t// className='flex justify-between '\r\n\t\t\t\t\t\tclassName=' custom-grid '>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h1 className='  text-lg font-bold hover:underline '>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\trel='noopener noreferrer'\r\n\t\t\t\t\t\t\t\t\thref={this.props.url}>\r\n\t\t\t\t\t\t\t\t\t{this.props.title}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<p className=' py-2 text-sm text-gray-700 '>\r\n\t\t\t\t\t\t\t\t{this.props.source.id ? (\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={`/search?sources=${this.props.source.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.source.name}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tthis.props.source.name\r\n\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t&#183;{' '}\r\n\t\t\t\t\t\t\t\t{dayjs(this.props.publishedAt).fromNow(true)}{' '}\r\n\t\t\t\t\t\t\t\tago{' '}\r\n\t\t\t\t\t\t\t\t<ActionPanel\r\n\t\t\t\t\t\t\t\t\tarticle={this.props.article}\r\n\t\t\t\t\t\t\t\t\tisAuthenticated={this.props.isAuthenticated}\r\n\t\t\t\t\t\t\t\t\tisHovering={this.state.isHovering}\r\n\t\t\t\t\t\t\t\t\tbookmarked={this.props.bookmarked}\r\n\t\t\t\t\t\t\t\t\tonBookmarkHandler={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.onBookmarkHandler\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tgoToSourceHandler={this.goToSourceHandler}\r\n\t\t\t\t\t\t\t\t\thideStoryHandler={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.hideStoryHandler\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tstoryId={this.props.idkey}\r\n\t\t\t\t\t\t\t\t\tsourceId={this.props.source.id}\r\n\t\t\t\t\t\t\t\t\tsourceName={this.props.source.name}\r\n\t\t\t\t\t\t\t\t\tuserCopied={this.userCopied}\r\n\t\t\t\t\t\t\t\t\tarticleURL={this.props.url}\r\n\t\t\t\t\t\t\t\t\tremoveSourceHandler={() => {}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{this.props.description !== '' ? (\r\n\t\t\t\t\t\t\t\t<p className='font-sans'>\r\n\t\t\t\t\t\t\t\t\t{this.props.description}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className='font-sans'>\r\n\t\t\t\t\t\t\t\t\t{this.props.content}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{this.props.tags && (\r\n\t\t\t\t\t\t\t\t<div className='flex flex-wrap mt-3 '>\r\n\t\t\t\t\t\t\t\t\t{this.props.tags.map((tag, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<Tag key={idx} tagname={tag} />\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tstyle={{ width: '100px', height: '100px' }}\r\n\t\t\t\t\t\t\tclassName='object-cover border shadow-xl rounded-lg m-auto '\r\n\t\t\t\t\t\t\tsrc={this.props.urlToImage}\r\n\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Story;\r\n","import React from 'react';\r\n\r\nconst MyContext = React.createContext('');\r\nexport default MyContext;\r\n","import React, { Component } from 'react';\r\nimport Story from './Story';\r\n\r\nimport '../styles/Stories.css';\r\nimport MyContext from '../utils/MyContext';\r\n\r\nexport class Stories extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { width: 0, height: 0 };\r\n\t\tthis.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions();\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tupdateWindowDimensions() {\r\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight });\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.articles.length <= 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<p>Nothing to show here. Please try a different search term</p>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<MyContext.Consumer>\r\n\t\t\t\t{({ layout, isAuthenticated }) => {\r\n\t\t\t\t\tlet cardView = layout === 'grid';\r\n\r\n\t\t\t\t\t// cardView = false;\r\n\t\t\t\t\tif (this.state.width <= 520) cardView = true;\r\n\r\n\t\t\t\t\tif (cardView === false) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.props.articles && (\r\n\t\t\t\t\t\t\t\t\t<div className='flex flex-wrap  justify-center'>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.articles.map((el, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Story\r\n\t\t\t\t\t\t\t\t\t\t\t\tisAuthenticated={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisAuthenticated\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\thideStoryHandler={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.hideStoryHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.bookmarkURLS\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbookmarked={this.props.bookmarkURLS.includes(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tel.url\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBookmarkHandler={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.onBookmarkHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\trefreshUser={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.refreshUser\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\tidkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...el}\r\n\t\t\t\t\t\t\t\t\t\t\t\tarticle={el}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{this.props.articles && (\r\n\t\t\t\t\t\t\t\t<div className=''>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t'   flex flex-wrap justify-center customGrid'\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.articles.map((el, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='flex xl:max-w-sm lg:max-w-xs md:max-w-xs sm:max-w-lg '\r\n\t\t\t\t\t\t\t\t\t\t\t\t// className=' '\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Story\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisAuthenticated={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisAuthenticated\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thideStoryHandler={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.hideStoryHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcardView={cardView}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.bookmarkURLS\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbookmarked={this.props.bookmarkURLS.includes(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tel.url\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBookmarkHandler={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.onBookmarkHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trefreshUser={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.refreshUser\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tidkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...el}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tarticle={el}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t</MyContext.Consumer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Stories;\r\n","// First we need to import axios.js\r\nimport axios from 'axios';\r\n// Next we make an 'instance' of it\r\nconst instance = axios.create({\r\n\t// .. where we make our configurations\r\n\tbaseURL: 'https://my-news-aggregator1.herokuapp.com/',\r\n});\r\n\r\n// Where you would set stuff like your 'Authorization' header, etc ...\r\n// instance.defaults.headers.common['Authorization'] = 'AUTH TOKEN FROM INSTANCE';\r\n\r\n// Also add/ configure interceptors && all the other cool stuff\r\n\r\nexport default instance;\r\n","import React, { Component } from 'react';\r\n\r\nexport class Loading extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=' mt-16 justify-center w-full h-full flex '>\r\n\t\t\t\t<i className='  fas fa-spinner fa-5x fa-pulse'></i>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Loading;\r\n","import React, { Component } from 'react';\r\n\r\nexport class PaginationButton extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.direction === 'left' && (\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color: 'dodgerblue' }}\r\n\t\t\t\t\t\tclassName={`  px-1 fas fa-angle-${this.props.direction}`}></i>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tstyle={{ color: 'dodgerblue' }}\r\n\t\t\t\t\tclassName=''\r\n\t\t\t\t\tdisabled={this.props.disabled}>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</button>\r\n\t\t\t\t{this.props.direction === 'right' && (\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color: 'dodgerblue' }}\r\n\t\t\t\t\t\tclassName={` px-1 mr-5 fas fa-angle-${this.props.direction}`}></i>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PaginationButton;\r\n","import React, { Component } from 'react';\r\nimport '../styles/app.css';\r\nimport Stories from '../Components/Stories';\r\nimport axios from '../utils/axiosInstance';\r\nimport Loading from '../Components/Loading';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport PaginationButton from '../Components/PaginationButton';\r\n\r\nexport class Home extends Component {\r\n\tstate = {\r\n\t\tarticles: null,\r\n\t\ttotalResults: null,\r\n\t\tloading: true,\r\n\t\ttotalPages: null,\r\n\t\tcurrentPage: 1,\r\n\t\tbookmarks: [],\r\n\t\tbookmarkURLS: [],\r\n\t};\r\n\r\n\tonBookmarkHandler = async (article) => {\r\n\t\ttry {\r\n\t\t\tlet cpyarticles = { ...article };\r\n\t\t\tdelete cpyarticles.tags;\r\n\t\t\tlet resp = await axios.post('/bookmark', { ...cpyarticles });\r\n\r\n\t\t\tlet bookmarks = resp.data.userdata.bookmarks;\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\t\t\tthis.setState((st) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tbookmarks: bookmarks,\r\n\t\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\t// this.props.refreshUser(bookmarks);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tdiffMinutes(dt2, dt1) {\r\n\t\tvar diff = (dt2.getTime() - dt1.getTime()) / 1000;\r\n\t\tdiff /= 60;\r\n\t\treturn Math.abs(Math.round(diff));\r\n\t}\r\n\r\n\tfetchHeadlines = async () => {\r\n\t\tlet paramString = this.props.location.search;\r\n\t\tlet params = new URLSearchParams(paramString);\r\n\t\tlet page = Number(params.get('page'));\r\n\r\n\t\tif (!page) page = 1;\r\n\r\n\t\tlet resp = await axios.get('/headlines', {\r\n\t\t\tparams: { page: page },\r\n\t\t});\r\n\t\t// console.log(resp.data);\r\n\r\n\t\tlet bookmarks = resp.data.bookmarks;\r\n\r\n\t\tlet urls = [];\r\n\t\tfor (const i of bookmarks) {\r\n\t\t\turls.push(i.url);\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tarticles: resp.data.data.articles,\r\n\t\t\ttotalResults: resp.data.data.totalResults,\r\n\t\t\ttotalPages: Math.ceil(resp.data.data.totalResults / 20),\r\n\t\t\tloading: false,\r\n\t\t\tcurrentPage: page,\r\n\t\t\tbookmarks: bookmarks,\r\n\t\t\tbookmarkURLS: urls,\r\n\t\t});\r\n\t\tlet headlines = { data: resp.data, storageTime: new Date() };\r\n\t\tlocalStorage.setItem('headlines', JSON.stringify(headlines));\r\n\t};\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\t// do the api call here\r\n\r\n\t\tawait this.fetchHeadlines();\r\n\r\n\t\t// let headlines = localStorage.headlines;\r\n\t\t// let paramString = this.props.location.search;\r\n\r\n\t\t// let params = new URLSearchParams(paramString);\r\n\t\t// let page = Number(params.get('page'));\r\n\t\t// if (!page) {\r\n\t\t// \tif (headlines) {\r\n\t\t// \t\tlet parsedheadlines = JSON.parse(headlines);\r\n\t\t// \t\tlet time = new Date(parsedheadlines.storageTime);\r\n\t\t// \t\tlet currentTime = new Date();\r\n\t\t// \t\tlet diff = this.diffMinutes(currentTime, time);\r\n\t\t// \t\tif (diff > 60) {\r\n\t\t// \t\t\tawait this.fetchHeadlines();\r\n\t\t// \t\t} else {\r\n\t\t// \t\t\tconsole.log('loading from local storage');\r\n\t\t// \t\t\tthis.setState({\r\n\t\t// \t\t\t\tarticles: parsedheadlines.data.articles,\r\n\t\t// \t\t\t\ttotalResults: parsedheadlines.data.totalResults,\r\n\t\t// \t\t\t\tloading: false,\r\n\t\t// \t\t\t\ttotalPages: Math.ceil(\r\n\t\t// \t\t\t\t\tparsedheadlines.data.totalResults / 20\r\n\t\t// \t\t\t\t),\r\n\t\t// \t\t\t\tcurrentPage: 1,\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t// \t} else {\r\n\t\t// \t\tawait this.fetchHeadlines();\r\n\t\t// \t}\r\n\t\t// } else {\r\n\t\t// \tawait this.fetchHeadlines();\r\n\t\t// }\r\n\t};\r\n\r\n\tcomponentDidUpdate = async (prevProps, prevState) => {\r\n\t\tlet paramString = this.props.location.search;\r\n\t\tif (prevProps.location.search !== paramString) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true,\r\n\t\t\t\tparamString: paramString,\r\n\t\t\t\tarticles: [],\r\n\t\t\t});\r\n\r\n\t\t\tawait this.fetchHeadlines();\r\n\t\t}\r\n\t};\r\n\r\n\thideStoryHandler = (id) => {\r\n\t\tthis.setState((st) => {\r\n\t\t\tlet x = [...st.articles];\r\n\t\t\tx.splice(id, 1);\r\n\t\t\treturn { ...st, articles: x };\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet [prevDisabled, nextDisabled] = [false, false];\r\n\t\tif (this.state.currentPage >= this.state.totalPages)\r\n\t\t\tnextDisabled = true;\r\n\t\tif (this.state.currentPage <= 1) prevDisabled = true;\r\n\t\tlet nextPage = this.state.currentPage + 1;\r\n\t\tlet prevPage = this.state.currentPage - 1;\r\n\t\tlet nextLink, prevLink;\r\n\r\n\t\tnextLink = `/headlines?page=${nextPage}`;\r\n\t\tprevLink = `/headlines?page=${prevPage}`;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif flex justify-center w-full'>\r\n\t\t\t\t\tHeadlines\r\n\t\t\t\t</h1>\r\n\t\t\t\t{/* <HorizontalTabs /> */}\r\n\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\t\t\t\t{this.state.articles && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Stories\r\n\t\t\t\t\t\t\t// cardView={false}\r\n\t\t\t\t\t\t\tonBookmarkHandler={this.onBookmarkHandler}\r\n\t\t\t\t\t\t\thideStoryHandler={this.hideStoryHandler}\r\n\t\t\t\t\t\t\trefreshUser={this.props.refreshUser}\r\n\t\t\t\t\t\t\tarticles={this.state.articles}\r\n\t\t\t\t\t\t\tbookmarkURLS={this.state.bookmarkURLS}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='flex justify-center my-5 m-3  w-full'>\r\n\t\t\t\t\t\t\t{prevDisabled ? (\r\n\t\t\t\t\t\t\t\t<div className=' flex justify-end px-3 w-full max-w-4xl'>\r\n\t\t\t\t\t\t\t\t\t<Link to={nextDisabled ? '' : nextLink}>\r\n\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\tdirection='right'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={nextDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\tNext Page\r\n\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=' flex justify-between px-3 w-full max-w-4xl'>\r\n\t\t\t\t\t\t\t\t\t{!prevDisabled && (\r\n\t\t\t\t\t\t\t\t\t\t<Link to={prevDisabled ? '' : prevLink}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tdirection='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={prevDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPrevious Page\r\n\t\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{!nextDisabled && (\r\n\t\t\t\t\t\t\t\t\t\t<Link to={nextDisabled ? '' : nextLink}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tdirection='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={nextDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNext Page\r\n\t\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\n\r\nexport class SearchBar extends Component {\r\n\tstate = { searchValue: '' };\r\n\r\n\tonSearchBarHandler = (event) => {\r\n\t\tlet value = event.target.value;\r\n\r\n\t\tthis.setState({ searchValue: value });\r\n\t};\r\n\r\n\tonKeyDownHandler = (event) => {\r\n\t\tif (event.keyCode === 13) {\r\n\t\t\tthis.props.history.push(`/search?q=${this.state.searchValue}`);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{ width: '97%' }} className='shadow-sm'>\r\n\t\t\t\t<div\r\n\t\t\t\t\t// style={{ width: '500px' }}\r\n\t\t\t\t\tclassName='relative flex  flex-wrap items-stretch mb-3'>\r\n\t\t\t\t\t<span className='z-10 h-full leading-snug font-normal absolute text-center text-gray-600  bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tonKeyDown={this.onKeyDownHandler}\r\n\t\t\t\t\t\tvalue={this.searchValue}\r\n\t\t\t\t\t\tonChange={this.onSearchBarHandler}\r\n\t\t\t\t\t\tstyle={{ backgroundColor: 'whitesmoke' }}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Search'\r\n\t\t\t\t\t\tclassName='px-3 py-3 font-mono font-medium text-base border placeholder-gray-600 text-black relative bg-gray-200 rounded  shadow outline-none focus:outline-none focus:shadow-outline w-full  pl-10'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from 'react';\r\n\r\nimport '../styles/BackDrop.css';\r\n\r\nexport class BackDrop extends Component {\r\n\trender() {\r\n\t\treturn <div onClick={this.props.onclick} className='BackDrop'></div>;\r\n\t}\r\n}\r\n\r\nexport default BackDrop;\r\n","import React from 'react';\r\nimport '../styles/sidebar.css';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\nimport BackDrop from './BackDrop';\r\n\r\nclass SideBar extends React.Component {\r\n\tstate = { isOpen: false, isPreferencesOpen: false };\r\n\r\n\tonPreferencesClickHandler = () => {\r\n\t\tthis.setState({ isPreferencesOpen: true });\r\n\t};\r\n\r\n\tclosePreferencesHandler = () => {\r\n\t\tthis.setState({ isPreferencesOpen: false });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.setState({ isOpen: true });\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\topen\r\n\t\t\t\t</button> */}\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\t// class='w3-sidebar w3-bar-block w3-border-right'\r\n\t\t\t\t\tclassName='sidenav'\r\n\t\t\t\t\tstyle={{ width: this.props.isOpen ? '270px' : '0px' }}>\r\n\t\t\t\t\t{/* <button\r\n\t\t\t\t\t\tonClick={this.props.closeSidebar}\r\n\t\t\t\t\t\tclassName='closebtn'>\r\n\t\t\t\t\t\tClose &times;\r\n\t\t\t\t\t</button> */}\r\n\r\n\t\t\t\t\t<NavLink to='/headlines'>\r\n\t\t\t\t\t\t<i className=' pr-4 fas fa-home'></i>Home\r\n\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t{this.props.isAuthenticated && (\r\n\t\t\t\t\t\t<NavLink to='/user/foryou'>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t<i className=' pr-4 fas fa-user'></i>For you\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<NavLink to='/topics?category=business'>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<i className=' pr-4 fas fa-money-check-alt'></i>{' '}\r\n\t\t\t\t\t\tBusiness\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to='/topics?category=health'>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<i className=' pr-4 fas fa-heartbeat'></i> Health\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to='/topics?category=entertainment'>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<i className=' pr-4 fas fa-film'></i>Entertainment\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to='/topics?category=science'>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<i className=' pr-4 fas fa-atom'></i>Science\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to='/topics?category=sports'>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<i className=' pr-4 fas fa-baseball-ball'></i>Sports\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to='/topics?category=technology'>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<i className=' pr-4  fas fa-microchip'></i>Technology\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t{this.props.isAuthenticated && (\r\n\t\t\t\t\t\t<NavLink to='/user/bookmarks'>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t<i className=' pr-4 fas fa-bookmark'></i>Saved\r\n\t\t\t\t\t\t\tArticles\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.props.isAuthenticated && (\r\n\t\t\t\t\t\t<NavLink to='/user/searches'>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t<i className=' pr-4 fas fa-search'></i>Saved\r\n\t\t\t\t\t\t\tSearches\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{this.props.isAuthenticated && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='sidebar-button'\r\n\t\t\t\t\t\t\tonClick={this.props.onPreferencesOpenHandler}>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t<i className=' pr-4 fas fa-cog'></i>Preferences\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{this.props.isAuthenticated && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='sidebar-button'\r\n\t\t\t\t\t\t\tonClick={this.props.onLogoutHandler}>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t<i className=' pr-4 fas fa-sign-out-alt'></i>Logout\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.props.isOpen && (\r\n\t\t\t\t\t<BackDrop onclick={this.props.closeSidebar} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SideBar;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SearchBar from './SearchBar';\r\nimport SideBar from './SideBar';\r\nimport { Component } from 'react';\r\n\r\nexport default class Navbar extends Component {\r\n\t// const [navbarOpen, setNavbarOpen] = React.useState(false);\r\n\t// const [isOpen, setIsOpen] = useState(false);\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { navbarOpen: false, isOpen: false, width: 0, height: 0 };\r\n\t\tthis.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions();\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tupdateWindowDimensions() {\r\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight });\r\n\t}\r\n\r\n\t// return (\r\n\t// \t<nav className='relative shadow-lg h-20 navbar-expand-lg bg-gray-100 '>\r\n\t// \t\t<div className=' h-full flex flex-wrap items-center justify-between container mx-auto px-4 '>\r\n\t// \t\t\t<div className='w-40'>\r\n\t// \t\t\t\t<Link\r\n\t// \t\t\t\t\tto='/'\r\n\t// \t\t\t\t\tclassName='text-sm text-black font-bold leading-relaxed  mr-4  whitespace-no-wrap uppercase'\r\n\t// \t\t\t\t\thref='#'>\r\n\t// \t\t\t\t\tNews Aggregator\r\n\t// \t\t\t\t</Link>\r\n\t// \t\t\t</div>\r\n\t// \t\t\t<div className='w-full pt-2 max-w-2xl '>\r\n\t// \t\t\t\t<SearchBar history={props.history} />\r\n\t// \t\t\t</div>\r\n\t// \t\t\t{props.authenticated ? (\r\n\t// \t\t\t\t<button>{props.email}</button>\r\n\t// \t\t\t) : (\r\n\t// \t\t\t\t<button\r\n\t// \t\t\t\t\tonClick={props.onLoginClickHandler}\r\n\t// \t\t\t\t\tclassName='border font-medium font-sans bg-blue-500 text-white px-5  py-3 rounded-md  '>\r\n\t// \t\t\t\t\tSign in\r\n\t// \t\t\t\t</button>\r\n\t// \t\t\t)}\r\n\t// \t\t</div>\r\n\t// \t</nav>\r\n\t// );\r\n\r\n\topenSidebar = () => {\r\n\t\tthis.setState({ isOpen: true });\r\n\t};\r\n\r\n\tcloseSidebar = () => {\r\n\t\tthis.setState({ isOpen: false });\r\n\t};\r\n\r\n\tHamburger = (\r\n\t\t<div\r\n\t\t\tclassName='cursor-pointer mr-2 '\r\n\t\t\tonClick={this.openSidebar}\r\n\t\t\tstyle={{ zIndex: 100, paddingLeft: '20px' }}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: '30px',\r\n\t\t\t\t\theight: '5px',\r\n\t\t\t\t\tbackgroundColor: 'black',\r\n\t\t\t\t\tmargin: '4px 0',\r\n\t\t\t\t}}></div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: '30px',\r\n\t\t\t\t\theight: '5px',\r\n\t\t\t\t\tbackgroundColor: 'black',\r\n\t\t\t\t\tmargin: '4px 0',\r\n\t\t\t\t}}></div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: '30px',\r\n\t\t\t\t\theight: '5px',\r\n\t\t\t\t\tbackgroundColor: 'black',\r\n\t\t\t\t\tmargin: '4px 0',\r\n\t\t\t\t}}></div>\r\n\t\t</div>\r\n\t);\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=' overflow-x-hidden h-16'>\r\n\t\t\t\t<SideBar\r\n\t\t\t\t\tshowPreferences={this.props.showPreferences}\r\n\t\t\t\t\tonPreferencesOpenHandler={\r\n\t\t\t\t\t\tthis.props.onPreferencesOpenHandler\r\n\t\t\t\t\t}\r\n\t\t\t\t\tisOpen={this.state.isOpen}\r\n\t\t\t\t\topenSidebar={this.openSidebar}\r\n\t\t\t\t\tcloseSidebar={this.closeSidebar}\r\n\t\t\t\t\tonLogoutHandler={this.props.logout}\r\n\t\t\t\t\tisAuthenticated={this.props.authenticated}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=' shadow-md top-0 fixed bg-white z-50 w-full border-b-2 '>\r\n\t\t\t\t\t<div className=' flex  h-16  items-center  justify-between container mx-auto'>\r\n\t\t\t\t\t\t<div className='flex items-center '>\r\n\t\t\t\t\t\t\t{this.Hamburger}\r\n\t\t\t\t\t\t\t{this.state.width >= 660 && (\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto='/'\r\n\t\t\t\t\t\t\t\t\tclassName=' ml-10 text-sm text-black font-bold leading-relaxed  mr-4  whitespace-no-wrap uppercase'>\r\n\t\t\t\t\t\t\t\t\tNews Aggregator\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='w-full pt-3 max-w-2xl '>\r\n\t\t\t\t\t\t\t<SearchBar history={this.props.history} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{this.props.authenticated ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.width >= 520 && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.openSidebar}\r\n\t\t\t\t\t\t\t\t\t\tclassName='border mx-2 font-medium font-sans  bg-blue-500 text-white px-5  py-3 rounded-lg  '>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.email\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(0, 2)\r\n\t\t\t\t\t\t\t\t\t\t\t.toUpperCase()}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.width >= 520 && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.props.onLoginClickHandler}\r\n\t\t\t\t\t\t\t\t\t\tclassName='border ml-2 font-medium font-sans  bg-blue-500 text-white px-5  py-3 rounded-md  '>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-sign-in-alt mr-2  '></i>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.width > 1280 && 'Login'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\t// 660\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Axios from '../utils/axiosInstance';\r\n\r\nimport Stories from '../Components/Stories';\r\nimport Loading from '../Components/Loading';\r\nimport { PaginationButton } from '../Components/PaginationButton';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class SearchResults extends Component {\r\n\tstate = {\r\n\t\tarticles: [],\r\n\t\ttotalResults: null,\r\n\t\tloading: true,\r\n\t\tsearch: null,\r\n\t\tsource: null,\r\n\t\tcurrentPage: 1,\r\n\t\ttotalPages: null,\r\n\t\tbuttonText: '',\r\n\t\tempty: false,\r\n\t\tbookmarkURLS: [],\r\n\t\tbookmarks: [],\r\n\t};\r\n\r\n\tonBookmarkHandler = async (article) => {\r\n\t\ttry {\r\n\t\t\tlet cpyarticles = { ...article };\r\n\t\t\tdelete cpyarticles.tags;\r\n\t\t\tlet resp = await Axios.post('/bookmark', { ...cpyarticles });\r\n\r\n\t\t\tlet bookmarks = resp.data.userdata.bookmarks;\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\t\t\tthis.setState((st) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tbookmarks: bookmarks,\r\n\t\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\t// this.props.refreshUser(bookmarks);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tgetData = async () => {\r\n\t\ttry {\r\n\t\t\t// let params = this.props.match.params;\r\n\r\n\t\t\tlet paramString = this.props.location.search;\r\n\r\n\t\t\tlet params = new URLSearchParams(paramString);\r\n\r\n\t\t\tlet search = params.get('q');\r\n\t\t\tlet source = params.get('sources');\r\n\t\t\tlet page = Number(params.get('page'));\r\n\t\t\tif (!page) page = 1;\r\n\t\t\t// const resp = await Axios.get('/search', { params: { ...params } });\r\n\r\n\t\t\tconst resp = await Axios.get('/search' + paramString);\r\n\t\t\tlet qwe = resp.data.data;\r\n\t\t\tlet totalPages = Math.ceil(qwe.totalResults / 20);\r\n\r\n\t\t\tif (qwe.totalResults <= 0) {\r\n\t\t\t\treturn this.setState({ empty: true, loading: false });\r\n\t\t\t}\r\n\r\n\t\t\tlet bookmarks = resp.data.bookmarks;\r\n\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tarticles: qwe.articles,\r\n\t\t\t\ttotalResults: qwe.totalResults,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tparamString,\r\n\t\t\t\tsearch: search,\r\n\t\t\t\tsource: source,\r\n\t\t\t\tsourceData: qwe.sourceData,\r\n\t\t\t\tcurrentPage: page,\r\n\t\t\t\ttotalPages,\r\n\t\t\t\tbuttonText: resp.data.isSaved ? 'Saved' : 'Save',\r\n\t\t\t\tempty: false,\r\n\t\t\t\tbookmarks: bookmarks,\r\n\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\tawait this.getData();\r\n\t};\r\n\r\n\tcomponentDidUpdate = async (prevProps, prevState) => {\r\n\t\tlet paramString = this.props.location.search;\r\n\t\tif (prevProps.location.search !== paramString) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true,\r\n\t\t\t\tparamString: paramString,\r\n\t\t\t\tarticles: [],\r\n\t\t\t});\r\n\r\n\t\t\tawait this.getData();\r\n\t\t}\r\n\t};\r\n\r\n\thideStoryHandler = (id) => {\r\n\t\tthis.setState((st) => {\r\n\t\t\tlet x = [...st.articles];\r\n\t\t\tx.splice(id, 1);\r\n\t\t\treturn { ...st, articles: x };\r\n\t\t});\r\n\t};\r\n\r\n\tonSaveSearchHandler = async () => {\r\n\t\t// code\r\n\t\ttry {\r\n\t\t\tthis.setState({ buttonText: 'Loading' });\r\n\t\t\tlet resp = await Axios.post('/search/save', {\r\n\t\t\t\tsearchString: this.state.search,\r\n\t\t\t});\r\n\t\t\tif (resp.status === 200) {\r\n\t\t\t\t// unsave\r\n\t\t\t\t//change button text to Save\r\n\t\t\t\tthis.setState({ buttonText: 'Save' });\r\n\t\t\t} else {\r\n\t\t\t\t// save\r\n\t\t\t\t// change button text to Saved\r\n\t\t\t\tthis.setState({ buttonText: 'Saved' });\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\tlet [prevDisabled, nextDisabled] = [false, false];\r\n\t\tif (this.state.currentPage >= this.state.totalPages)\r\n\t\t\tnextDisabled = true;\r\n\t\tif (this.state.currentPage <= 1) prevDisabled = true;\r\n\t\tlet nextPage = this.state.currentPage + 1;\r\n\t\tlet prevPage = this.state.currentPage - 1;\r\n\t\tlet nextLink, prevLink;\r\n\t\tif (this.state.source) {\r\n\t\t\tnextLink = `/search?sources=${this.state.source}&page=${nextPage}`;\r\n\t\t\tprevLink = `/search?sources=${this.state.source}&page=${prevPage}`;\r\n\t\t} else {\r\n\t\t\tnextLink = `/search?q=${this.state.search}&page=${nextPage}`;\r\n\t\t\tprevLink = `/search?q=${this.state.search}&page=${prevPage}`;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\r\n\t\t\t\t{this.state.empty && (\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tNothing to show here. Please try a different search term\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.state.articles.length > 0 && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.state.sourceData ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif flex justify-center w-full'>\r\n\t\t\t\t\t\t\t\t\t{this.state.sourceData.name}\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<p className='text-center my-4 '>\r\n\t\t\t\t\t\t\t\t\t{this.state.sourceData.description}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className='flex justify-center'>\r\n\t\t\t\t\t\t\t\t\t<div className=' w-full max-w-lg '>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`flex items-center justify-${\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.isAuthenticated\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'between'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'center'\r\n\t\t\t\t\t\t\t\t\t\t\t} w-full`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif '>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.search &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.search.toUpperCase()}\r\n\t\t\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.isAuthenticated && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.buttonText ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Loading'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransition:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'all 0.1s ease-in',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`border-2 mt-3 text-gray-600 hover:shadow-lg hover:text-blue-700 hover:border-blue-700 px-3 shadow-md py-1 ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.buttonText ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Saved'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ' text-blue-700 border-blue-500 '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}   rounded-full`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onSaveSearchHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`fa${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.buttonText ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'r'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 's text-blue-700'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} fa-star pr-2 hover:text-blue-700  `}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.buttonText}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<Stories\r\n\t\t\t\t\t\t\thideStoryHandler={this.hideStoryHandler}\r\n\t\t\t\t\t\t\tbookmarkURLS={this.state.bookmarkURLS}\r\n\t\t\t\t\t\t\trefreshUser={this.props.refreshUser}\r\n\t\t\t\t\t\t\tarticles={this.state.articles}\r\n\t\t\t\t\t\t\tonBookmarkHandler={this.onBookmarkHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='flex justify-center my-5 m-3  w-full'>\r\n\t\t\t\t\t\t\t{prevDisabled ? (\r\n\t\t\t\t\t\t\t\t<div className=' flex justify-end px-3 w-full max-w-4xl'>\r\n\t\t\t\t\t\t\t\t\t<Link to={nextDisabled ? '' : nextLink}>\r\n\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\tdirection='right'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={nextDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\tNext Page\r\n\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=' flex justify-between px-3 w-full max-w-4xl'>\r\n\t\t\t\t\t\t\t\t\t{!prevDisabled && (\r\n\t\t\t\t\t\t\t\t\t\t<Link to={prevDisabled ? '' : prevLink}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tdirection='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={prevDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPrevious Page\r\n\t\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{!nextDisabled && (\r\n\t\t\t\t\t\t\t\t\t\t<Link to={nextDisabled ? '' : nextLink}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tdirection='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={nextDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNext Page\r\n\t\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SearchResults;\r\n","import React, { Component } from 'react';\r\nimport ScrollMenu from 'react-horizontal-scrolling-menu';\r\n// import './App.css';\r\nimport '../App.css';\r\n\r\n// One item component\r\n// selected prop will be passed\r\nconst MenuItem = ({ text, selected }) => {\r\n\treturn (\r\n\t\t<div className={`menu-item ${selected ? 'active' : ''}`}>{text}</div>\r\n\t);\r\n};\r\n\r\n// All items component\r\n// Important! add unique key\r\nexport const Menu = (list, selected) =>\r\n\tlist.map((el) => {\r\n\t\tconst { name } = el;\r\n\r\n\t\treturn <MenuItem text={name} key={name} selected={selected} />;\r\n\t});\r\n\r\nconst Arrow = ({ text, className }) => {\r\n\treturn <div className={className}>{text}</div>;\r\n};\r\n\r\nconst ArrowLeft = Arrow({ text: '<', className: 'arrow-prev' });\r\nconst ArrowRight = Arrow({ text: '>', className: 'arrow-next' });\r\n\r\nconst selected = 'item1';\r\n\r\nexport default class HorizontalTabs extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t// call it again if items count changes\r\n\t\tthis.menuItems = Menu(this.props.list, selected);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tselected: 'Latest',\r\n\t};\r\n\r\n\tonSelect = (key) => {\r\n\t\tthis.setState({ selected: key }, () => {\r\n\t\t\tthis.props.changeTopic(key);\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { selected } = this.state;\r\n\t\t// Create menu from items\r\n\t\tconst menu = this.menuItems;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='  flex justify-center w-full'>\r\n\t\t\t\t<div className=' rounded border-none App max-w-5xl min-w-0 '>\r\n\t\t\t\t\t<ScrollMenu\r\n\t\t\t\t\t\talignCenter={false}\r\n\t\t\t\t\t\tdata={menu}\r\n\t\t\t\t\t\tarrowLeft={ArrowLeft}\r\n\t\t\t\t\t\tarrowRight={ArrowRight}\r\n\t\t\t\t\t\tselected={selected}\r\n\t\t\t\t\t\tonSelect={this.onSelect}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Axios from '../utils/axiosInstance';\r\n\r\nimport Stories from '../Components/Stories';\r\nimport Loading from '../Components/Loading';\r\nimport { PaginationButton } from '../Components/PaginationButton';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport HorizontalTabs from '../Components/HorizontalTabs';\r\n\r\nexport class CategoryPage extends Component {\r\n\tstate = {\r\n\t\tarticles: [],\r\n\t\ttotalResults: null,\r\n\t\tloading: true,\r\n\t\tsearch: null,\r\n\t\tcurrentPage: 1,\r\n\t\ttotalPages: null,\r\n\t\tcurrentTopic: 'Latest',\r\n\t\tloadingSubTopic: false,\r\n\t\tsubtopicList: null,\r\n\t\tbookmarks: [],\r\n\t\tbookmarkURLS: [],\r\n\t};\r\n\r\n\tonBookmarkHandler = async (article) => {\r\n\t\ttry {\r\n\t\t\tlet cpyarticles = { ...article };\r\n\t\t\tdelete cpyarticles.tags;\r\n\t\t\tlet resp = await Axios.post('/bookmark', { ...cpyarticles });\r\n\r\n\t\t\tlet bookmarks = resp.data.userdata.bookmarks;\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\t\t\tthis.setState((st) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tbookmarks: bookmarks,\r\n\t\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\t// this.props.refreshUser(bookmarks);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tbusinessSubTopics = [\r\n\t\t{ name: 'Latest' },\r\n\t\t{ name: 'Economy' },\r\n\t\t{ name: 'Markets' },\r\n\t\t{ name: 'Jobs' },\r\n\t\t{ name: 'Personal Finance' },\r\n\t\t{ name: 'Entrepreneurship' },\r\n\t];\r\n\r\n\ttechnologySubTopics = [\r\n\t\t{ name: 'Latest' },\r\n\t\t{ name: 'Mobile' },\r\n\t\t{ name: 'Gadgets' },\r\n\t\t{ name: 'Internet' },\r\n\t\t{ name: 'Artificial Intelligence' },\r\n\t\t{ name: 'Virtual Reality' },\r\n\t];\r\n\r\n\tentertainmentSubTopics = [\r\n\t\t{ name: 'Latest' },\r\n\t\t{ name: 'Movies' },\r\n\t\t{ name: 'Music' },\r\n\t\t{ name: 'TV' },\r\n\t\t{ name: 'Books' },\r\n\t\t{ name: 'Art' },\r\n\t\t{ name: 'Celebrities' },\r\n\t];\r\n\r\n\tsportsSubTopics = [\r\n\t\t{ name: 'Latest' },\r\n\t\t{ name: 'Cricket' },\r\n\t\t{ name: 'Hockey' },\r\n\t\t{ name: 'Tennis' },\r\n\t\t{ name: 'Football' },\r\n\t\t{ name: 'Badminton' },\r\n\t\t{ name: 'Basketball' },\r\n\t];\r\n\r\n\tscienceSubTopics = [\r\n\t\t{ name: 'Latest' },\r\n\t\t{ name: 'Environment' },\r\n\t\t{ name: 'Outer Space' },\r\n\t\t{ name: 'Physics' },\r\n\t\t{ name: 'Genetics' },\r\n\t\t{ name: 'Wildlife' },\r\n\t];\r\n\r\n\thealthSubTopics = [\r\n\t\t{ name: 'Latest' },\r\n\t\t{ name: 'Medicine' },\r\n\t\t{ name: 'Healthcare' },\r\n\t\t{ name: 'Mental health' },\r\n\t\t{ name: 'Nutrition' },\r\n\t\t{ name: 'Fitness' },\r\n\t];\r\n\r\n\tgetData = async () => {\r\n\t\ttry {\r\n\t\t\t// let params = this.props.match.params;\r\n\r\n\t\t\tlet paramString = this.props.location.search;\r\n\r\n\t\t\tlet params = new URLSearchParams(paramString);\r\n\r\n\t\t\tlet search = params.get('category');\r\n\t\t\tlet page = Number(params.get('page'));\r\n\t\t\tif (!page) page = 1;\r\n\t\t\t// const resp = await Axios.get('/search', { params: { ...params } });\r\n\t\t\tconst resp = await Axios.get('/headlines' + paramString);\r\n\t\t\tlet totalPages = Math.ceil(resp.data.data.totalResults / 20);\r\n\r\n\t\t\tlet bookmarks = resp.data.bookmarks;\r\n\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tarticles: resp.data.data.articles,\r\n\t\t\t\ttotalResults: resp.data.data.totalResults,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tparamString,\r\n\t\t\t\tsearch: search,\r\n\t\t\t\tcurrentPage: page,\r\n\t\t\t\ttotalPages,\r\n\t\t\t\tbookmarks,\r\n\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\tlet paramString = this.props.location.search;\r\n\r\n\t\tlet params = new URLSearchParams(paramString);\r\n\r\n\t\t// switch (search) {\r\n\t\t// \tcase 'business':\r\n\t\t// \t\tthis.setState({ subtopicList: businessSubTopics });\r\n\t\t// \t\tbreak;\r\n\t\t// \tcase \"technology\":\r\n\t\t// \t\tthis.setState({subtopicList: technologySubTopics})\r\n\t\t// }\r\n\r\n\t\tawait this.getData();\r\n\t};\r\n\r\n\tcomponentDidUpdate = async (prevProps, prevState) => {\r\n\t\tlet paramString = this.props.location.search;\r\n\t\tif (prevProps.location.search !== paramString) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true,\r\n\t\t\t\tparamString: paramString,\r\n\t\t\t\tarticles: [],\r\n\t\t\t});\r\n\r\n\t\t\tawait this.getData();\r\n\t\t}\r\n\t};\r\n\r\n\tchangeTopic = async (topic) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentTopic: topic,\r\n\t\t\tloadingSubTopic: true,\r\n\t\t});\r\n\t\t// fetch the data and store in the state\r\n\r\n\t\ttry {\r\n\t\t\tconst resp = await Axios.get('/search', {\r\n\t\t\t\tparams: { sortBy: 'publishedAt', q: topic },\r\n\t\t\t});\r\n\r\n\t\t\tlet totalPages = Math.ceil(resp.data.data.totalResults / 20);\r\n\t\t\tthis.setState({\r\n\t\t\t\tarticles: resp.data.data.articles,\r\n\t\t\t\ttotalResults: resp.data.data.totalResults,\r\n\t\t\t\tloadingSubTopic: false,\r\n\t\t\t\t// search: search,\r\n\t\t\t\t// currentPage: page,\r\n\t\t\t\ttotalPages,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\thideStoryHandler = (id) => {\r\n\t\tthis.setState((st) => {\r\n\t\t\tlet x = [...st.articles];\r\n\t\t\tx.splice(id, 1);\r\n\t\t\treturn { ...st, articles: x };\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet [prevDisabled, nextDisabled] = [false, false];\r\n\t\tif (this.state.currentPage >= this.state.totalPages)\r\n\t\t\tnextDisabled = true;\r\n\t\tif (this.state.currentPage <= 1) prevDisabled = true;\r\n\t\tlet nextPage = this.state.currentPage + 1;\r\n\t\tlet prevPage = this.state.currentPage - 1;\r\n\t\tlet nextLink, prevLink;\r\n\t\tnextLink = `/topics?category=${this.state.search}&page=${nextPage}`;\r\n\t\tprevLink = `/topics?category=${this.state.search}&page=${prevPage}`;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\r\n\t\t\t\t{this.state.articles.length > 0 && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.state.sourceData ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif flex justify-center w-full'>\r\n\t\t\t\t\t\t\t\t\t{this.state.sourceData.name}\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<p className='text-center my-4 '>\r\n\t\t\t\t\t\t\t\t\t{this.state.sourceData.description}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif flex justify-center w-full'>\r\n\t\t\t\t\t\t\t\t{this.state.search &&\r\n\t\t\t\t\t\t\t\t\tthis.state.search.toUpperCase()}\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<HorizontalTabs\r\n\t\t\t\t\t\t\tchangeTopic={this.changeTopic}\r\n\t\t\t\t\t\t\t// list={this.businessSubTopics}\r\n\t\t\t\t\t\t\tlist={this[`${this.state.search}SubTopics`]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!this.state.loadingSubTopic ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Stories\r\n\t\t\t\t\t\t\t\t\tonBookmarkHandler={this.onBookmarkHandler}\r\n\t\t\t\t\t\t\t\t\thideStoryHandler={this.hideStoryHandler}\r\n\t\t\t\t\t\t\t\t\tbookmarkURLS={this.state.bookmarkURLS}\r\n\t\t\t\t\t\t\t\t\trefreshUser={this.props.refreshUser}\r\n\t\t\t\t\t\t\t\t\tarticles={this.state.articles}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className='flex justify-center my-5 m-3  w-full'>\r\n\t\t\t\t\t\t\t\t\t{prevDisabled ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=' flex justify-end px-3 w-full max-w-4xl'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnextDisabled ? '' : nextLink\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdirection='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={nextDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tNext Page\r\n\t\t\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=' flex justify-between px-3 w-full max-w-4xl'>\r\n\t\t\t\t\t\t\t\t\t\t\t{!prevDisabled && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprevDisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: prevLink\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirection='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={prevDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPrevious Page\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{!nextDisabled && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnextDisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: nextLink\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PaginationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirection='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={nextDisabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNext Page\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PaginationButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Loading />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CategoryPage;\r\n","import React, { Component } from 'react';\r\nimport Axios from '../utils/axiosInstance';\r\n\r\nexport class Login extends Component {\r\n\tstate = { isLoggingIn: true, email: '', password: '', errors: null };\r\n\r\n\tonSwitchHandler = () => {\r\n\t\t// /login and /signup\r\n\r\n\t\tthis.setState((st) => {\r\n\t\t\treturn {\r\n\t\t\t\t...st,\r\n\t\t\t\tisLoggingIn: !st.isLoggingIn,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tonLoginHandler = async () => {\r\n\t\ttry {\r\n\t\t\tconst { email, password } = this.state;\r\n\t\t\tlet resp = await Axios.post('/login', { email, password });\r\n\t\t\tlet token = resp.data.token;\r\n\t\t\tlet { bookmarks, layout, country } = resp.data.user;\r\n\t\t\tlet mail = resp.data.user.email;\r\n\t\t\tthis.setState({ errors: null }, () => {\r\n\t\t\t\tthis.props.loginSuccessHandler(\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmail,\r\n\t\t\t\t\tbookmarks,\r\n\t\t\t\t\tlayout,\r\n\t\t\t\t\tcountry\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t\tthis.setState({ errors: err.response.data.errors[0].message });\r\n\t\t}\r\n\t};\r\n\r\n\tonSignupHandler = async () => {\r\n\t\ttry {\r\n\t\t\tconst { email, password } = this.state;\r\n\t\t\tlet resp = await Axios.post('/signup', { email, password });\r\n\t\t\tlet token = resp.data.token;\r\n\t\t\tlet { bookmarks, layout } = resp.data.newUser;\r\n\t\t\tlet mail = resp.data.newUser.email;\r\n\t\t\tthis.setState({ errors: null }, () => {\r\n\t\t\t\tthis.props.loginSuccessHandler(token, mail, bookmarks, layout);\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t\tthis.setState({ errors: err.response.data.errors[0].message });\r\n\t\t}\r\n\t};\r\n\r\n\tonChangeHandler = (event) => {\r\n\t\tlet value = event.target.value;\r\n\t\tthis.setState({ [event.target.name]: value });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=' w-full h-full '>\r\n\t\t\t\t\t<div className='flex w-full content-center items-center justify-center h-full'>\r\n\t\t\t\t\t\t<div className='w-full'>\r\n\t\t\t\t\t\t\t<div className='relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-300 border-0'>\r\n\t\t\t\t\t\t\t\t<div className='rounded-t mb-0 px-6 py-6'>\r\n\t\t\t\t\t\t\t\t\t<div className='text-center mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='text-gray-600 text-sm font-bold'>\r\n\t\t\t\t\t\t\t\t\t\t\tSign in with Credentials\r\n\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<hr className='mt-6 border-b-1 border-gray-400' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='flex-auto px-4 py-10 pt-0'>\r\n\t\t\t\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t\t\t\t<div className='relative w-full mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='block uppercase text-gray-700 text-xs font-bold mb-2'\r\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='grid-password'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeHandler}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full'\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransition: 'all .15s ease',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className='relative w-full mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='block uppercase text-gray-700 text-xs font-bold mb-2'\r\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='grid-password'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeHandler}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='px-3  py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full'\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransition: 'all .15s ease',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.errors && (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=' text-red-600'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.errors}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<div className='text-center mt-6'>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.isLoggingIn ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onLoginHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bg-gray-900 text-white active:bg-gray-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransition:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'all .15s ease',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onSignupHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bg-gray-900 text-white active:bg-gray-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransition:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'all .15s ease',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t{this.state.isLoggingIn ? (\r\n\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.onSwitchHandler}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='text-center pt-2 hover:underline cursor-pointer '>\r\n\t\t\t\t\t\t\t\t\t\t\tCreate a new Account\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.onSwitchHandler}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='text-center pt-2 hover:underline cursor-pointer '>\r\n\t\t\t\t\t\t\t\t\t\t\tAlready have an Account?\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\n\r\nimport '../styles/Modal.css';\r\n\r\nexport default class Modal extends Component {\r\n\t// const [showModal, setShowModal] = React.useState(false);\r\n\t// return (\r\n\t// \t<>\r\n\t// \t\t<button\r\n\t// \t\t\tclassName='bg-pink-500 text-white active:bg-pink-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1'\r\n\t// \t\t\ttype='button'\r\n\t// \t\t\tstyle={{ transition: 'all .15s ease' }}\r\n\t// \t\t\tonClick={() => setShowModal(true)}>\r\n\t// \t\t\tOpen regular modal\r\n\t// \t\t</button>\r\n\t// \t\t{showModal ? (\r\n\t// \t\t\t<div>\r\n\t// \t\t\t\t<div\r\n\t// \t\t\t\t\tclassName=' h-full w-full justify-center items-center flex align-middle  overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none'\r\n\t// \t\t\t\t\t// onClick={() => setShowModal(false)}\r\n\t// \t\t\t\t>\r\n\t// \t\t\t\t\t<div className='w-full max-w-lg'>\r\n\t// \t\t\t\t\t\t<Login />\r\n\t// \t\t\t\t\t</div>\r\n\t// \t\t\t\t</div>\r\n\t// \t\t\t\t<div\r\n\t// \t\t\t\t\tonClick={() => setShowModal(false)}\r\n\t// \t\t\t\t\tclassName='opacity-25 fixed inset-0 z-40 bg-black'></div>\r\n\t// \t\t\t</div>\r\n\t// \t\t) : null}\r\n\t// \t</>\r\n\t// );\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='Modal w-full items-center flex justify-center'>\r\n\t\t\t\t<div className=' w-full max-w-lg'>{this.props.children}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Stories from '../Components/Stories';\r\nimport Axios from '../utils/axiosInstance';\r\nimport Loading from '../Components/Loading';\r\n\r\nexport class SavedArticlesPage extends Component {\r\n\tstate = { articles: [], bookmarks: [], bookmarkURLS: [], loading: true };\r\n\r\n\thideStoryHandler = (id) => {\r\n\t\tthis.setState((st) => {\r\n\t\t\tlet x = [...st.articles];\r\n\t\t\tx.splice(id, 1);\r\n\t\t\treturn { ...st, articles: x };\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\ttry {\r\n\t\t\tthis.setState({ loading: true });\r\n\r\n\t\t\tconst resp = await Axios.get('/bookmarks');\r\n\r\n\t\t\tlet bookmarks = resp.data.bookmarks;\r\n\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tarticles: resp.data.bookmarks,\r\n\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t\tloading: false,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\r\n\t\t// this.setState({ articles: this.props.bookmarks });\r\n\t};\r\n\r\n\tonBookmarkHandler = async (article) => {\r\n\t\ttry {\r\n\t\t\tlet cpyarticles = { ...article };\r\n\t\t\tdelete cpyarticles.tags;\r\n\t\t\tlet resp = await Axios.post('/bookmark', { ...cpyarticles });\r\n\r\n\t\t\tlet bookmarks = resp.data.userdata.bookmarks;\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\t\t\tthis.setState((st) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tarticles: bookmarks,\r\n\t\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\t// this.props.refreshUser(bookmarks);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif flex justify-center w-full'>\r\n\t\t\t\t\tYour Bookmarks\r\n\t\t\t\t</h1>\r\n\t\t\t\t{this.state.loading ? (\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.state.articles.length >= 1 ? (\r\n\t\t\t\t\t\t\t<Stories\r\n\t\t\t\t\t\t\t\tonBookmarkHandler={this.onBookmarkHandler}\r\n\t\t\t\t\t\t\t\thideStoryHandler={this.hideStoryHandler}\r\n\t\t\t\t\t\t\t\trefreshUser={this.props.refreshUser}\r\n\t\t\t\t\t\t\t\tbookmarkURLS={this.state.bookmarkURLS}\r\n\t\t\t\t\t\t\t\tarticles={this.state.articles}\r\n\t\t\t\t\t\t\t\t// articles={this.state.bookmarks}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tyour bookmarks are shown here\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SavedArticlesPage;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nexport class SavedSearch extends Component {\r\n\tstate = { isHovering: false };\r\n\r\n\tonClickHandler = () => {\r\n\t\tthis.props.history.push('/search?q=' + this.props.el);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\tthis.setState({ isHovering: true });\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisHovering: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t\tstyle={{ transition: 'all 0.15s ease' }}\r\n\t\t\t\tclassName={` cursor-pointer shadow-md flex flex-grow justify-between  border hover:shadow-lg border-gray-500 hover:border-gray-800  rounded-md p-2 m-2 my-3 w-full  items-center`}>\r\n\t\t\t\t<i\r\n\t\t\t\t\tonClick={this.onClickHandler}\r\n\t\t\t\t\tclassName=' hover:shadow-lg text-gray-700 p-2 pr-3 text-5xl fas fa-search'></i>\r\n\t\t\t\t<div onClick={this.onClickHandler} className='pl-2'>\r\n\t\t\t\t\t{this.props.el}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* {this.state.isHovering && (\r\n\t\t\t\t\t<i className=' px-3 fas fa-trash'></i>\r\n\t\t\t\t)} */}\r\n\t\t\t\t<i\r\n\t\t\t\t\tonClick={() => this.props.onDeleteHandler(this.props.el)}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: this.state.isHovering ? '100%' : '0%',\r\n\t\t\t\t\t\ttransition: 'opacity 0.15s ease-in, color 0.1s ease-in',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='hover:text-red-600 z-10 text-gray-700 px-3 fas fa-trash'></i>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(SavedSearch);\r\n","import React, { Component } from 'react';\r\nimport SavedSearch from './SavedSearch';\r\n\r\nimport '../styles/searches.css';\r\n\r\nexport class Searches extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.savedSearches && (\r\n\t\t\t\t\t<div className=' justify-center w-full'>\r\n\t\t\t\t\t\t<div className='search-grid gap-3 '>\r\n\t\t\t\t\t\t\t{this.props.savedSearches.map((el) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className='w-auto'>\r\n\t\t\t\t\t\t\t\t\t\t<SavedSearch\r\n\t\t\t\t\t\t\t\t\t\t\tonDeleteHandler={\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.onDeleteHandler\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tel={el}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Searches;\r\n","import React, { Component } from 'react';\r\nimport Axios from '../utils/axiosInstance';\r\nimport Loading from '../Components/Loading';\r\nimport Searches from '../Components/Searches';\r\n\r\nexport class SavedSearchesPage extends Component {\r\n\tstate = { savedSearches: null };\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\ttry {\r\n\t\t\tlet resp = await Axios.get('/search/save');\r\n\t\t\tthis.setState({ savedSearches: resp.data.savedSearches });\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t};\r\n\r\n\tonDeleteHandler = async (savedSearch) => {\r\n\t\ttry {\r\n\t\t\tconst resp = await Axios.post('/search/save', {\r\n\t\t\t\tsearchString: savedSearch,\r\n\t\t\t});\r\n\t\t\tthis.setState({ savedSearches: resp.data.userData.savedSearches });\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif flex justify-center w-full'>\r\n\t\t\t\t\t\tSaved Searches\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.state.savedSearches ? (\r\n\t\t\t\t\t<Searches\r\n\t\t\t\t\t\tonDeleteHandler={this.onDeleteHandler}\r\n\t\t\t\t\t\tsavedSearches={this.state.savedSearches}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SavedSearchesPage;\r\n","import React, { Component } from 'react';\r\nimport Axios from '../utils/axiosInstance';\r\nimport Loading from '../Components/Loading';\r\nimport Stories from '../Components/Stories';\r\n\r\nexport class PersonalizedNewsPage extends Component {\r\n\tstate = { articles: null, loading: true, bookmarks: [], bookmarkURLS: [] };\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\ttry {\r\n\t\t\tconst resp = await Axios.get('/foryou');\r\n\t\t\tlet bookmarks = resp.data.bookmarks;\r\n\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tarticles: resp.data.data,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tbookmarks: bookmarks,\r\n\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\tonBookmarkHandler = async (article) => {\r\n\t\ttry {\r\n\t\t\tlet cpyarticles = { ...article };\r\n\t\t\tdelete cpyarticles.tags;\r\n\t\t\tlet resp = await Axios.post('/bookmark', { ...cpyarticles });\r\n\r\n\t\t\tlet bookmarks = resp.data.userdata.bookmarks;\r\n\t\t\tlet urls = [];\r\n\t\t\tfor (const i of bookmarks) {\r\n\t\t\t\turls.push(i.url);\r\n\t\t\t}\r\n\t\t\tthis.setState((st) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tbookmarks: bookmarks,\r\n\t\t\t\t\tbookmarkURLS: urls,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\t// this.props.refreshUser(bookmarks);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className='flex justify-center w-full'>\r\n\t\t\t\t\t<h1 className=' mt-3 text-3xl font-medium font-serif '>\r\n\t\t\t\t\t\tFor You\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex justify-center text-gray-700 pb-3 '>\r\n\t\t\t\t\tRecommended based on your interests\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\r\n\t\t\t\t{this.state.articles && (\r\n\t\t\t\t\t<Stories\r\n\t\t\t\t\t\tonBookmarkHandler={this.onBookmarkHandler}\r\n\t\t\t\t\t\thideStoryHandler={this.props.hideStoryHandler}\r\n\t\t\t\t\t\tbookmarkURLS={this.state.bookmarkURLS}\r\n\t\t\t\t\t\trefreshUser={this.props.refreshUser}\r\n\t\t\t\t\t\tarticles={this.state.articles}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PersonalizedNewsPage;\r\n","import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\n\r\nimport Axios from '../utils/axiosInstance';\r\n\r\nexport class Preferences extends Component {\r\n\t// countries = [\r\n\t// \t{ value: 'qwesadzc', label: 'qwe1223' },\r\n\t// \t{ value: 'qwexvbed', label: 'lkn ' },\r\n\t// ];\r\n\r\n\tstate = {\r\n\t\tcountryValue: 'ar',\r\n\t\tcountryLabel: 'Argentina',\r\n\t\tlayoutValue: 'list',\r\n\t\tlayoutLabel: 'List',\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tlet defaultCountry = this.countries[0];\r\n\t\tlet defaultLayout = this.layouts[0];\r\n\r\n\t\tfor (let i of this.countries) {\r\n\t\t\tif (i.value === this.props.country) {\r\n\t\t\t\tdefaultCountry = i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (let i of this.layouts) {\r\n\t\t\tif (i.value === this.props.layout) {\r\n\t\t\t\tdefaultLayout = i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tcountryValue: defaultCountry.value,\r\n\t\t\tcountryLabel: defaultCountry.label,\r\n\t\t\tlayoutValue: defaultLayout.value,\r\n\t\t\tlayoutLabel: defaultLayout.label,\r\n\t\t});\r\n\t};\r\n\r\n\tcountries = [\r\n\t\t{ value: 'ar', label: 'Argentina' },\r\n\t\t{ value: 'au', label: 'Australia' },\r\n\t\t{ value: 'at', label: 'Austria' },\r\n\t\t{ value: 'be', label: 'Belgium' },\r\n\t\t{ value: 'br', label: 'Brazil' },\r\n\t\t{ value: 'bg', label: 'Bulgaria' },\r\n\t\t{ value: 'ca', label: 'Canada' },\r\n\t\t{ value: 'cn', label: 'China' },\r\n\t\t{ value: 'co', label: 'Colombia' },\r\n\t\t{ value: 'cu', label: 'Cuba' },\r\n\t\t{ value: 'cz', label: 'Czech Republic' },\r\n\t\t{ value: 'eg', label: 'Egypt' },\r\n\t\t{ value: 'fr', label: 'France' },\r\n\t\t{ value: 'de', label: 'Germany' },\r\n\t\t{ value: 'gr', label: 'Greece' },\r\n\t\t{ value: 'hk', label: 'Hong Kong' },\r\n\t\t{ value: 'hu', label: 'Hungary' },\r\n\t\t{ value: 'in', label: 'India' },\r\n\t\t{ value: 'id', label: 'Indonesia' },\r\n\t\t{ value: 'ie', label: 'Ireland' },\r\n\t\t{ value: 'il', label: 'Israel' },\r\n\t\t{ value: 'it', label: 'Italy' },\r\n\t\t{ value: 'jp', label: 'Japan' },\r\n\t\t{ value: 'lv', label: 'Latvia' },\r\n\t\t{ value: 'lt', label: 'Lithuania' },\r\n\t\t{ value: 'my', label: 'Malaysia' },\r\n\t\t{ value: 'mx', label: 'Mexico' },\r\n\t\t{ value: 'ma', label: 'Morocco' },\r\n\t\t{ value: 'nl', label: 'Netherlands' },\r\n\t\t{ value: 'nz', label: 'New Zealand' },\r\n\t\t{ value: 'ng', label: 'Nigeria' },\r\n\t\t{ value: 'no', label: 'Norway' },\r\n\t\t{ value: 'ph', label: 'Philippines' },\r\n\t\t{ value: 'pl', label: 'Poland' },\r\n\t\t{ value: 'pt', label: 'Portugal' },\r\n\t\t{ value: 'ro', label: 'Romania' },\r\n\t\t{ value: 'ru', label: 'Russia' },\r\n\t\t{ value: 'sa', label: 'Saudi Arabia' },\r\n\t\t{ value: 'rs', label: 'Serbia' },\r\n\t\t{ value: 'sg', label: 'Singapore' },\r\n\t\t{ value: 'sk', label: 'Slovakia' },\r\n\t\t{ value: 'si', label: 'Slovenia' },\r\n\t\t{ value: 'za', label: 'South Africa' },\r\n\t\t{ value: 'kr', label: 'South Korea' },\r\n\t\t{ value: 'se', label: 'Sweden' },\r\n\t\t{ value: 'ch', label: 'Switzerland' },\r\n\t\t{ value: 'tw', label: 'Taiwan' },\r\n\t\t{ value: 'th', label: 'Thailand' },\r\n\t\t{ value: 'tr', label: 'Turkey' },\r\n\t\t{ value: 'ae', label: 'UAE' },\r\n\t\t{ value: 'ua', label: 'Ukraine' },\r\n\t\t{ value: 'gb', label: 'United Kingdom' },\r\n\t\t{ value: 'us', label: 'United States' },\r\n\t\t{ value: 've', label: 'Venuzuela' },\r\n\t];\r\n\r\n\tlayouts = [\r\n\t\t{\r\n\t\t\tvalue: 'list',\r\n\t\t\tlabel: 'List',\r\n\t\t},\r\n\t\t{ value: 'grid', label: 'Grid' },\r\n\t];\r\n\r\n\tonSaveHandler = async () => {\r\n\t\ttry {\r\n\t\t\tconst resp = await Axios.post('/user', {\r\n\t\t\t\tcountry: this.state.countryValue,\r\n\t\t\t\tlayout: this.state.layoutValue,\r\n\t\t\t});\r\n\t\t\tlet { country, layout } = resp.data.userData;\r\n\t\t\tthis.props.setPreferences(country, layout);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\t// in\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className='w-full  bg-white border border-black rounded-lg '>\r\n\t\t\t\t\t<div className='flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t'>\r\n\t\t\t\t\t\t<h3 className='text-3xl font-semibold'>Preferences</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='relative p-6 flex-auto'>\r\n\t\t\t\t\t\t<div className='flex flex-wrap '>\r\n\t\t\t\t\t\t\t<p className='my-4 flex max-w-md justify-between w-full text-gray-600 text-lg leading-relaxed'>\r\n\t\t\t\t\t\t\t\tChange Country :{' '}\r\n\t\t\t\t\t\t\t\t<span className='w-40 '>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tonChange={(el) => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcountryValue: el.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcountryLabel: el.label,\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: this.state.countryLabel,\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.countryValue,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName='basic-single'\r\n\t\t\t\t\t\t\t\t\t\tclassNamePrefix='select'\r\n\t\t\t\t\t\t\t\t\t\t// defaultValue={defaultCountry}\r\n\t\t\t\t\t\t\t\t\t\tisSearchable={true}\r\n\t\t\t\t\t\t\t\t\t\tname='country'\r\n\t\t\t\t\t\t\t\t\t\toptions={this.countries}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='my-4 flex max-w-md justify-between w-full text-gray-600 text-lg leading-relaxed'>\r\n\t\t\t\t\t\t\t\tChange Layout :{' '}\r\n\t\t\t\t\t\t\t\t<span className='w-40 '>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tonChange={(el) => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\tlayoutValue: el.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlayoutLabel: el.label,\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: this.state.layoutLabel,\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.layoutValue,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName='basic-single'\r\n\t\t\t\t\t\t\t\t\t\tclassNamePrefix='select'\r\n\t\t\t\t\t\t\t\t\t\t// defaultValue={defaultLayout}\r\n\t\t\t\t\t\t\t\t\t\tisSearchable={true}\r\n\t\t\t\t\t\t\t\t\t\tname='layout'\r\n\t\t\t\t\t\t\t\t\t\toptions={this.layouts}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1'\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tonClick={this.props.onPreferencesCloseHandler}\r\n\t\t\t\t\t\t\tstyle={{ transition: 'all .15s ease' }}>\r\n\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='bg-green-500 text-white active:bg-green-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1'\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\tstyle={{ transition: 'all .15s ease' }}>\r\n\t\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Preferences;\r\n","import React, { Component } from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\n\r\nexport class AuthRoute extends Component {\r\n\trender() {\r\n\t\tlet { isAuthenticated, ...props } = this.props;\r\n\t\tif (!isAuthenticated) {\r\n\t\t\tprops.history.push('/headlines');\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Route\r\n\t\t\t\t{...props}\r\n\t\t\t\tpath={isAuthenticated ? props.path : '/headlines'}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(AuthRoute);\r\n","import React from 'react';\nimport './styles/app.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Home from './Pages/Home';\nimport Navbar from './Components/Navbar';\nimport SearchResults from './Pages/SearchResults';\nimport CategoryPage from './Pages/CategoryPage';\nimport Login from './Components/Login';\nimport Modal from './Components/Modal';\nimport BackDrop from './Components/BackDrop';\nimport Axios from './utils/axiosInstance';\nimport JwtDecode from 'jwt-decode';\nimport SavedArticlesPage from './Pages/SavedArticlesPage';\nimport SavedSearchesPage from './Pages/SavedSearchesPage';\nimport PersonalizedNewsPage from './Pages/PersonalizedNewsPage';\nimport Preferences from './Components/Preferences';\n\nimport MyContext from './utils/MyContext';\nimport AuthRoute from './Components/AuthRoute';\n\nclass App extends React.PureComponent {\n\tstate = {\n\t\tshowModal: false,\n\t\tauthenticated: null,\n\t\temail: null,\n\t\ttoken: null,\n\t\tbookmarks: [],\n\t\tbookmarkURLS: [],\n\t\tshowPreferences: false,\n\t\tcountry: null,\n\t\tlayout: 'list',\n\t};\n\n\t// openSidebar = () => {\n\t// \tthis.setState({ isOpen: true });\n\t// };\n\n\t// closeSidebar = () => {\n\t// \tthis.setState({ isOpen: false });\n\t// };\n\n\t// checkBookmarks = (data) => {\n\t// \tfor (const {url} of data) {\n\t// \t\tif(this.state.bookmarks.includes(url)){\n\n\t// \t\t}\n\t// \t}\n\t// }\n\n\trefreshUser = (bookmarks) => {\n\t\tlet urls = [];\n\t\tfor (const i of bookmarks) {\n\t\t\turls.push(i.url);\n\t\t}\n\t\tlocalStorage.setItem('bookmarks', JSON.stringify(bookmarks));\n\t\tthis.setState({ bookmarks: bookmarks, bookmarkURLS: urls });\n\t};\n\n\tsetTokenTimer = (time) => () => {\n\t\tsetTimeout(() => {\n\t\t\t// logout\n\t\t\t// localStorage.removeItem('token');\n\n\t\t\t// this.setState({\n\t\t\t// \tauthenticated: false,\n\t\t\t// \ttoken: '',\n\t\t\t// });\n\t\t\tthis.logout();\n\n\t\t\t// window.location.href = '/login';\n\t\t}, time);\n\t};\n\n\tgetCountry = () => {\n\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\tasync (position) => {\n\t\t\t\tlet { latitude, longitude } = position.coords;\n\t\t\t\ttry {\n\t\t\t\t\tlet resp = await Axios.post('/country', {\n\t\t\t\t\t\tlat: latitude,\n\t\t\t\t\t\tlon: longitude,\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ country: resp.data.country });\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(err.response);\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t);\n\t};\n\n\tcomponentDidMount = () => {\n\t\tlet email = localStorage.email;\n\t\tlet token = localStorage.token;\n\t\tlet bookmarks = localStorage.bookmarks;\n\t\tlet layout = localStorage.layout;\n\t\tlet country = localStorage.country;\n\t\tif (bookmarks) bookmarks = JSON.parse(bookmarks);\n\n\t\tlet authenticated = false;\n\t\tif (token && email) {\n\t\t\tconst decodedToken = JwtDecode(token);\n\t\t\tif (decodedToken.exp * 1000 < Date.now()) {\n\t\t\t\tauthenticated = false;\n\t\t\t\tthis.setState({ authenticated });\n\t\t\t} else {\n\t\t\t\tlet endTime = new Date(decodedToken.exp * 1000);\n\t\t\t\tlet startTime = new Date();\n\t\t\t\tvar milliseconds = endTime.getTime() - startTime.getTime();\n\t\t\t\tthis.setTokenTimer(milliseconds);\n\t\t\t\tauthenticated = true;\n\n\t\t\t\tAxios.defaults.headers.common['Authorization'] = token;\n\t\t\t\tlet urls = [];\n\t\t\t\tfor (const i of bookmarks) {\n\t\t\t\t\turls.push(i.url);\n\t\t\t\t}\n\n\t\t\t\tif (!country || country === 'null') {\n\t\t\t\t\tthis.getCountry();\n\t\t\t\t}\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tauthenticated,\n\t\t\t\t\temail,\n\t\t\t\t\ttoken,\n\t\t\t\t\tbookmarks,\n\t\t\t\t\tlayout,\n\t\t\t\t\tcountry,\n\t\t\t\t\tbookmarkURLS: urls,\n\t\t\t\t\tvaluesSet: true,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tonModalDismissHandler = () => {\n\t\tthis.setState({ showModal: false });\n\t};\n\tonLoginClickHandler = () => {\n\t\tthis.setState({ showModal: true });\n\t};\n\n\tonPreferencesCloseHandler = () => {\n\t\tthis.setState({ showPreferences: false });\n\t};\n\tonPreferencesOpenHandler = () => {\n\t\tthis.setState({ showPreferences: true });\n\t};\n\n\tlogout = () => {\n\t\tlocalStorage.clear();\n\t\tthis.setState({\n\t\t\tshowModal: false,\n\t\t\tauthenticated: false,\n\t\t\temail: null,\n\t\t\ttoken: null,\n\t\t\tbookmarks: [],\n\t\t\tbookmarkURLS: [],\n\t\t\tshowPreferences: false,\n\t\t\tcountry: null,\n\t\t\tlayout: 'list',\n\t\t});\n\t};\n\n\tloginSuccessHandler = (\n\t\ttoken,\n\t\temail,\n\t\tbookmarks = [],\n\t\tlayout,\n\t\tcountry = null\n\t) => {\n\t\tif (!country) {\n\t\t\tthis.getCountry();\n\t\t}\n\t\tlocalStorage.setItem('token', token);\n\t\tlocalStorage.setItem('email', email);\n\t\tlocalStorage.setItem('country', country);\n\t\tlocalStorage.setItem('layout', layout);\n\t\tlocalStorage.setItem('bookmarks', JSON.stringify(bookmarks));\n\t\tAxios.defaults.headers.common['Authorization'] = token;\n\t\tthis.setState({\n\t\t\tshowModal: false,\n\t\t\tauthenticated: true,\n\t\t\temail: email,\n\t\t\ttoken: token,\n\t\t\tlayout,\n\t\t\tcountry,\n\t\t});\n\t\tthis.refreshUser(bookmarks);\n\t};\n\n\tsetPreferences = (country, layout) => {\n\t\tthis.setState({ country, layout }, () => {\n\t\t\tlocalStorage.setItem('layout', layout);\n\t\t\tlocalStorage.setItem('country', country);\n\t\t\tthis.onPreferencesCloseHandler();\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<MyContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tlayout: this.state.layout,\n\t\t\t\t\tisAuthenticated: this.state.authenticated,\n\t\t\t\t}}>\n\t\t\t\t<div style={{ overflowX: 'hidden' }}>\n\t\t\t\t\t{this.state.showModal && !this.state.authenticated && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Modal>\n\t\t\t\t\t\t\t\t<Login\n\t\t\t\t\t\t\t\t\tloginSuccessHandler={\n\t\t\t\t\t\t\t\t\t\tthis.loginSuccessHandler\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonLoginHandler={this.onLoginHandler}\n\t\t\t\t\t\t\t\t\tonSignupHandler={this.onSignupHandler}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t<BackDrop onclick={this.onModalDismissHandler} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{this.state.showPreferences && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Modal>\n\t\t\t\t\t\t\t\t<Preferences\n\t\t\t\t\t\t\t\t\tcountry={this.state.country}\n\t\t\t\t\t\t\t\t\tlayout={this.state.layout}\n\t\t\t\t\t\t\t\t\tsetPreferences={this.setPreferences}\n\t\t\t\t\t\t\t\t\tonPreferencesCloseHandler={\n\t\t\t\t\t\t\t\t\t\tthis.onPreferencesCloseHandler\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t<BackDrop\n\t\t\t\t\t\t\t\tonclick={this.onPreferencesCloseHandler}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* <Sidebar\n\t\t\t\t\t\tsidebar={<b>Sidebar content</b>}\n\t\t\t\t\t\topen={this.state.sidebarOpen}\n\t\t\t\t\t\tdocked={this.state.sidebarDocked}\n\t\t\t\t\t\tonSetOpen={this.onSetSidebarOpen}>\n\t\t\t\t\t\t<b>Main content</b>\n\t\t\t\t\t</Sidebar> */}\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t<Navbar\n\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\tshowPreferences={this.state.showPreferences}\n\t\t\t\t\t\t\t\t\tonPreferencesOpenHandler={\n\t\t\t\t\t\t\t\t\t\tthis.onPreferencesOpenHandler\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tauthenticated={this.state.authenticated}\n\t\t\t\t\t\t\t\t\temail={this.state.email}\n\t\t\t\t\t\t\t\t\tonLoginClickHandler={\n\t\t\t\t\t\t\t\t\t\tthis.onLoginClickHandler\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlogout={this.logout}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <SideBar\n\t\t\t\t\t\t// isOpen={this.state.isOpen}\n\t\t\t\t\t\t// openSidebar={this.openSidebar}\n\t\t\t\t\t\t// closeSidebar={this.closeSidebar}\n\t\t\t\t\t\tisAuthenticated={this.state.authenticated}\n\t\t\t\t\t\tonLogoutHandler={this.logout}\n\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route path='/login' component={Login} />\n\n\t\t\t\t\t\t<div className='container mx-auto px-2'>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/'\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<Home\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/headlines'\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<Home\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<AuthRoute\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/user/bookmarks'\n\t\t\t\t\t\t\t\t\tisAuthenticated={this.state.authenticated}\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<SavedArticlesPage\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbookmarks={this.state.bookmarks}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<AuthRoute\n\t\t\t\t\t\t\t\t\tisAuthenticated={this.state.authenticated}\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/user/foryou'\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<PersonalizedNewsPage\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbookmarks={this.state.bookmarks}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<AuthRoute\n\t\t\t\t\t\t\t\t\tisAuthenticated={this.state.authenticated}\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/user/searches'\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<SavedSearchesPage\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\tisAuthenticated={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.authenticated\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbookmarks={this.state.bookmarks}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/search'\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<SearchResults\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\tisAuthenticated={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.authenticated\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/topics'\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<CategoryPage\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath='/'\n\t\t\t\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t\t\t\t<Home\n\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkURLS={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.bookmarkURLS\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trefreshUser={this.refreshUser}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Router>\n\t\t\t\t</div>\n\t\t\t</MyContext.Provider>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}